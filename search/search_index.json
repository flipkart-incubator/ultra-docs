{
    "docs": [
        {
            "location": "/", 
            "text": "Welcome to Ultra\n\n\nWe are pleased to announce the launch of version 1 of Ultra Platform on Android App. With this launch, we take a leap forward towards a vision of becoming a single shopping destination for all customer needs. This effort also brings us to a place where we can enable faster learnings for us on not-so-known shopping categories like Travel \n Food, as well as non-shopping categories like Video and Music. It\u2019s an idea which is designed to pave new ways for users to interact with any 3rd party App within Flipkart App securely and with trust. Hence, Ultra and its meaning ( Revolution) has become synonymous and is consecrated by usage.\n\n\nWhat is Ultra?\n\n\nUltra is a project name for all the efforts required to \nonboard\n other services ( like Travel tickets, Bill payments, etc) through \npartners\n like MakeMyTrip, PhonePe, etc on Flipkart Android App, keeping following ethos in mind with utmost sincerity. \n\n\n\n\n\n\nSwift onboarding\n\n\n\n\n\n\nData Security\n\n\n\n\n\n\nUser Privacy\n\n\n\n\n\n\nPayment Security\n\n\n\n\n\n\nUser Experience\n\n\n\n\n\n\nCustomer Experience\n\n\n\n\n\n\nDeveloper Experience\n\n\n\n\n\n\nApp Performance\n\n\n\n\n\n\nAffordability\n\n\n\n\n\n\nWhat is launched in Ultra V1?\n\n\nIn Ultra V1, we have setup a minimal viable process required to onboard a partner keeping above ethos in check. We also took some strategic product decisions which has shaped Ultra as a service offering to partners, like following\n\n\n\n\n\n\nUser experience over purchase funnel will be built and owned by the partner.\n\n\n\n\n\n\nDiscovery of Applications will be controlled by Flipkart.\n\n\n\n\n\n\nOnly Logged in Users can access partner applications.\n\n\n\n\n\n\nPayments is powered by Flipkart Payment Gateway(FKPG).\n\n\n\n\n\n\nFlipkart can run offers on partners purchase funnel.\n\n\n\n\n\n\nFulfillment and post purchase experience will also be built and owned by the partner.\n\n\n\n\n\n\nAll customer support related queries will be answered by the partner\n\n\n\n\n\n\nMoney will reach partner\u2019s nodal account directly.\n\n\n\n\n\n\nYou can read step by step approach to onboard a partner in the Onboarding section\n\n\nWhat is in for Partners/Businesses?\n\n\nPartners can integrate their Apps to Flipkart\u2019s Android App using developer\u2019s friendly API\u2019s and use the benefit of being on more than 100 million handhelds in the country. \n\n\nWhat is in for Developers?\n\n\nUltra plans to become one of the most dominant channel that no business or, developer can afford to miss. Ultra platform is one of its kind which supports a wide variety of technologies from the most basic web apps to very advanced experiences powered by React Native. This provides ample room to grow and develop unique skills while keeping entry barrier low so that no one is overwhelmed. In near future we would want Ultra to be a prestigious developer platform enabling cutting edge experiences. Being great on Ultra should be synonymous with being a great developer.", 
            "title": "Home"
        }, 
        {
            "location": "/#welcome-to-ultra", 
            "text": "We are pleased to announce the launch of version 1 of Ultra Platform on Android App. With this launch, we take a leap forward towards a vision of becoming a single shopping destination for all customer needs. This effort also brings us to a place where we can enable faster learnings for us on not-so-known shopping categories like Travel   Food, as well as non-shopping categories like Video and Music. It\u2019s an idea which is designed to pave new ways for users to interact with any 3rd party App within Flipkart App securely and with trust. Hence, Ultra and its meaning ( Revolution) has become synonymous and is consecrated by usage.", 
            "title": "Welcome to Ultra"
        }, 
        {
            "location": "/#what-is-ultra", 
            "text": "Ultra is a project name for all the efforts required to  onboard  other services ( like Travel tickets, Bill payments, etc) through  partners  like MakeMyTrip, PhonePe, etc on Flipkart Android App, keeping following ethos in mind with utmost sincerity.     Swift onboarding    Data Security    User Privacy    Payment Security    User Experience    Customer Experience    Developer Experience    App Performance    Affordability    What is launched in Ultra V1?  In Ultra V1, we have setup a minimal viable process required to onboard a partner keeping above ethos in check. We also took some strategic product decisions which has shaped Ultra as a service offering to partners, like following    User experience over purchase funnel will be built and owned by the partner.    Discovery of Applications will be controlled by Flipkart.    Only Logged in Users can access partner applications.    Payments is powered by Flipkart Payment Gateway(FKPG).    Flipkart can run offers on partners purchase funnel.    Fulfillment and post purchase experience will also be built and owned by the partner.    All customer support related queries will be answered by the partner    Money will reach partner\u2019s nodal account directly.    You can read step by step approach to onboard a partner in the Onboarding section  What is in for Partners/Businesses?  Partners can integrate their Apps to Flipkart\u2019s Android App using developer\u2019s friendly API\u2019s and use the benefit of being on more than 100 million handhelds in the country.   What is in for Developers?  Ultra plans to become one of the most dominant channel that no business or, developer can afford to miss. Ultra platform is one of its kind which supports a wide variety of technologies from the most basic web apps to very advanced experiences powered by React Native. This provides ample room to grow and develop unique skills while keeping entry barrier low so that no one is overwhelmed. In near future we would want Ultra to be a prestigious developer platform enabling cutting edge experiences. Being great on Ultra should be synonymous with being a great developer.", 
            "title": "What is Ultra?"
        }, 
        {
            "location": "/onboarding/", 
            "text": "Onboarding process\n\n\nToday integration with a new partner requires us to take following steps.\n* Closure on \nLegal Contracts\n and \nBusiness Agreement\n with partners.\n\n\n\n\n\n\nInformation security\n review and privacy policy Agreement.\n\n\n\n\n\n\nAPI Integration\n with\n\n\n\n\n\n\nLogin\n as a service which\n\n\n\n\n\n\nIntegrates partners user service with oAuth2.0 built by Flipkart Authn Service.\n\n\n\n\n\n\nCreates and Provides IdentityToken so that merchants have accountId equivalent, but yet user\u2019s flipkart flow is not compromised.\n\n\n\n\n\n\nPrompts user for data sharing permissions when partner requests user\u2019s data like email/phone number.\n\n\n\n\n\n\nSolicits missing data when a new use case arises at partners and in return enriches Flipkart data.\n\n\n\n\n\n\nPrompts email verification/phone verification flows within native app so that merchants don\u2019t have to do verification on their end.\n\n\n\n\n\n\n\n\n\n\nPayment\n as a service which\n\n\n\n\n\n\nLets partner configure their nodal account and MIDS to power payments completion via flipkart payment gateway.\n\n\n\n\n\n\nLets partner decide the allowed payment options for a user.\n\n\n\n\n\n\nLets partner Run payment bank offers.\n\n\n\n\n\n\nLets partner configure expiry timer, convenience/ other fees.\n\n\n\n\n\n\nLets partner take the benefits of Fintech constructs like EMI, BNPL etc in future.\n\n\n\n\n\n\nLets partner share order and payment details like payment status.\n\n\n\n\n\n\nLets partner issue refunds and cancellations.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProcess Agreement and Semi automated integration with\n\n\n\n\n\n\nCustomer experience\n\n\n\n\n\n\nwhich solves for Visibility of orders on My Orders\n\n\n\n\n\n\nwhich solves for Discovery of help in Help Centre\n\n\n\n\n\n\nwhich solves for Communication on inbound and outbound calls\n\n\n\n\n\n\n\n\n\n\nAccounting\n\n\n\n\nWhich solves for reconciliation, Taxes, etc\n\n\n\n\n\n\n\n\nReporting\n\n\n\n\nWhich solves for visibility of business metrics periodically at both ends.", 
            "title": "Onboarding"
        }, 
        {
            "location": "/onboarding/#onboarding-process", 
            "text": "Today integration with a new partner requires us to take following steps.\n* Closure on  Legal Contracts  and  Business Agreement  with partners.    Information security  review and privacy policy Agreement.    API Integration  with    Login  as a service which    Integrates partners user service with oAuth2.0 built by Flipkart Authn Service.    Creates and Provides IdentityToken so that merchants have accountId equivalent, but yet user\u2019s flipkart flow is not compromised.    Prompts user for data sharing permissions when partner requests user\u2019s data like email/phone number.    Solicits missing data when a new use case arises at partners and in return enriches Flipkart data.    Prompts email verification/phone verification flows within native app so that merchants don\u2019t have to do verification on their end.      Payment  as a service which    Lets partner configure their nodal account and MIDS to power payments completion via flipkart payment gateway.    Lets partner decide the allowed payment options for a user.    Lets partner Run payment bank offers.    Lets partner configure expiry timer, convenience/ other fees.    Lets partner take the benefits of Fintech constructs like EMI, BNPL etc in future.    Lets partner share order and payment details like payment status.    Lets partner issue refunds and cancellations.        Process Agreement and Semi automated integration with    Customer experience    which solves for Visibility of orders on My Orders    which solves for Discovery of help in Help Centre    which solves for Communication on inbound and outbound calls      Accounting   Which solves for reconciliation, Taxes, etc     Reporting   Which solves for visibility of business metrics periodically at both ends.", 
            "title": "Onboarding process"
        }, 
        {
            "location": "/userguide/", 
            "text": "Integration steps on Client Side\n\n\nStep 1\n\n\nPaste this within your HTML's head tag.\n\n\nscript src=\"https://img1a.flixcart.com/linchpin-web/fk-platform-sdk/fkext-browser-min@0.0.8.js\" type=\"text/javascript\"\n/script\n\n\nStep 2\n\n\nInitialized the SDK with your clientId. Contact flipkart to generate a clientId and secret.\n\n\nscript type=\"text/javascript\"\n\nvar clientId = \"playground\";\nvar fkPlatform = FKExtension.newPlatformInstance(clientId);\n\n/script\n\nCopy\n\n\nStep 3\n\n\nCall getToken to get a grant token\n\n\nvar scopeReq = [{\"scope\":\"user.email\",\"isMandatory\":true,\"shouldVerify\":false},{\"scope\":\"user.mobile\",\"isMandatory\":false,\"shouldVerify\":false},{\"scope\":\"user.name\",\"isMandatory\":false,\"shouldVerify\":false}];\nfkPlatform.getModuleHelper().getPermissionsModule().getToken(scopeReq).then(\nfunction (e) {\n    console.log(\"Your grant token is: \" + e.grantToken);\n}).catch(\nfunction (e) {\n    console.log(e.message);\n}\n\n\nStep 4\n\n\nSend the token to you server using a AJAX call or any other mechanism. This token can be used by the server to get an access token. This access token can be use to fetch the users identity token as well as other resources like name, email address and verified mobile number on the server side. Refer the server side guide for details. Note : Always get user data on server side and not on the client side to avoid security risks like MITM attacks.", 
            "title": "User guide"
        }, 
        {
            "location": "/userguide/#integration-steps-on-client-side", 
            "text": "", 
            "title": "Integration steps on Client Side"
        }, 
        {
            "location": "/userguide/#step-1", 
            "text": "Paste this within your HTML's head tag.  script src=\"https://img1a.flixcart.com/linchpin-web/fk-platform-sdk/fkext-browser-min@0.0.8.js\" type=\"text/javascript\" /script", 
            "title": "Step 1"
        }, 
        {
            "location": "/userguide/#step-2", 
            "text": "Initialized the SDK with your clientId. Contact flipkart to generate a clientId and secret.  script type=\"text/javascript\" \nvar clientId = \"playground\";\nvar fkPlatform = FKExtension.newPlatformInstance(clientId); /script \nCopy", 
            "title": "Step 2"
        }, 
        {
            "location": "/userguide/#step-3", 
            "text": "Call getToken to get a grant token  var scopeReq = [{\"scope\":\"user.email\",\"isMandatory\":true,\"shouldVerify\":false},{\"scope\":\"user.mobile\",\"isMandatory\":false,\"shouldVerify\":false},{\"scope\":\"user.name\",\"isMandatory\":false,\"shouldVerify\":false}];\nfkPlatform.getModuleHelper().getPermissionsModule().getToken(scopeReq).then(\nfunction (e) {\n    console.log(\"Your grant token is: \" + e.grantToken);\n}).catch(\nfunction (e) {\n    console.log(e.message);\n}", 
            "title": "Step 3"
        }, 
        {
            "location": "/userguide/#step-4", 
            "text": "Send the token to you server using a AJAX call or any other mechanism. This token can be used by the server to get an access token. This access token can be use to fetch the users identity token as well as other resources like name, email address and verified mobile number on the server side. Refer the server side guide for details. Note : Always get user data on server side and not on the client side to avoid security risks like MITM attacks.", 
            "title": "Step 4"
        }, 
        {
            "location": "/clients/", 
            "text": "Ultra Client Side SDK\n\n\nOverview\n\n\nThis SDK enables developers to build applications that run inside Flipkart app.\n\n\nAll the methods mentioned here will work with both React Native and Webview. \nAll the methods are asynchronous in nature and will always return a promise that gets resolved with the values. Fire and forget calls are an exception where you may not care about the response.\n\n\nNote: Not open to all, access enabled only for partners.\n\n\nGetting Started\n\n\nIntegration steps:\n\n\nStep 1)\n\n\nIf using node, add this repository as an npm package\n\n\nnpm install --save fk-platform-sdk\n\n\n\n\nAlternatively, you can also include the following script directly:\n\n\nhttp://img1a.flixcart.com/linchpin-web/fk-platform-sdk/fkext-browser-min@0.1.5.js (Version 0.1.5)\n\n\nStep 2)\n\n\nImport SDK and create a new platform instance. You will need to provide clientId given to you by Flipkart.\n\n\nIn Node Environment:\n\n\nimport FKPlatform from \nfk-platform-sdk\n\nlet fkPlatform = new FKPlatform(clientId);\n\n\n\n\nIn Browser:\n\n\nvar fkPlatform = FKExtension.newPlatformInstance(clientID);\n\n\n\n\nPost this you can start using modules.\n\n\nNote: You should call \nFKPlatform.isPlatformAvailable()\n or, \nwindow.FKExtension \n FKExtension.isPlatformAvailable()\n to check if you're inside Flipkart platform. It is recommended not to do any checks in partner code.\n\n\nModules\n\n\nPermissions Module\n\n\nlet permissionsModule = fkPlatform.getModuleHelper().getPermissionsModule()\n\n//To get scopes:\nconst SCOPES = permissionsModule.getScopes();\n\n\n\n\nAvailable Scopes:\n\n\nSCOPES.USER_EMAIL,\nSCOPES.USER_MOBILE,\nSCOPES.USER_NAME\n\n\n\n\nMethods:\n\n\ngetToken: (permissions: ScopeAccessRequest[]) =\n Promise\nNativeModuleResponse\nPermissionsManagerResponse\n\n\nRelevant interfaces:\n\n\ninterface ScopeAccessRequest {\n    scope: Scopes;\n    isMandatory?: boolean;\n    shouldVerify?: boolean;\n}\n\ninterface NativeModuleResponse\nT\n {\n    result: T,\n    grantToken?: string | null\n}\n\ninterface PermissionsManagerResponse { [key: Scopes]: boolean; }\n\n\n\n\nisMandatory\n is a boolean which says whether you want the scope to be mandatorily filled by the user\n\n\nadditionally \nshouldVerify\n is boolean which says whether you want the scope to be mandatorily verified as well\n\n\nfor e.g if you call \ngetToken(['scope':'user.email', 'isMandatory':true, 'shouldVerify':true])\n, then that means user cannot grant permissions without filling his email address and also verifying it. You can use this on situations where you know that he user has an unverified email address and want to trigger email verification for the user.\nNote that the flags \nisMandatory\n and \nshouldVerify\n should be set to \ntrue\n only when you ABSOLUTELY need an email address which has to be verified as well, because you could see a significant drop off of permission grants when such constraints are imposed on users. \n\n\nAlso note that the permission popup has a special behaviour when a single scope is requested and also has a unverified value prefilled by the user. For e.g, when you ask permission for a user.email scope, and the user already has an unverified email address in our system, then the UI will automatically initiate the email verfication flow. This is done to avoid an extra click for the user.\n\n\nThe method \ngetToken\n returns you both list of allowed and rejected permissions which depend on user response. It also returns an access token which you should be passing to your server using which it can hit Flipkart api to read relevant info. For security reasons secure info should only be read server to server using given grantToken.\n\n\nPromise resolution : \nPromise fails and enters the \ncatch\n block only if the user dismisses the permission popup (bottomsheet) or the SDK network calls failed.\nIf user denies a permission, the promise will be resolved successfully and you get a \ngrantToken\n.\nThis is because there could be partial permission denial as well. For e.g user denied phone number, but granted email address\nHence all the denials as well as accepts will still be treated as success from a token generation point of view.\nIf you want to check if user denied a permission, you can check the \nNativeModuleResponse\n result to see if the permissions are granted or not.\n\n\nIf the promise fails, Catch block function is invoked with an object which has \nmessage\n and \ncode\n.\nPossible errors are : \n\n\nERROR_CODE_UNKNOWN = 0;\nERROR_CODE_NETWORK_ERROR = 1001;\nERROR_CODE_JSON_PARSE_ERROR = 1002;\nERROR_CODE_INVALID_PERMISSIONS = 1003;\nERROR_CODE_USER_DISMISS = 1004;\nERROR_CODE_BAD_PERMISSION_REQUEST = 1005;\n\n\n\n\nNavigation Module\n\n\nCommon methods will enabled application to control their exit behaviour and deeplink into other parts of the app.\n\n\nlet navigationModule = fkPlatform.getModuleHelper().getNavigationModule()\n\n\n\n\nMethods:\n\n\nexitSession(): void\n\n\nCloses the application and takes user back to the page from where the app was launched.\n\n\nexitToHomePage(): void\n\n\nCloses the application and takes user to Flipkart homepage.\n\n\nstartPayment(paymentToken: string): void\n\n\nLaunches Flipkart payment screen for given token.\n\n\nclearHistory()?: void\n\n\nClears both forward and backward history such that only the existing page remains.\n\n\nContacts Module (from flipkart app v6.3, ultra v1.4.1)\n\n\nHelps in launching a UI that allows user to select a contact from his address book.\n\n\nlet contactModule = fkPlatform.getModuleHelper().getContactsModule()\n\n\n\n\nMethods:\n\n\npickPhoneNumber(): Promise\nNativeModuleResponse\nContact\n\n\nLaunches UI to pick a phone number and returns the same.\n\n\ngetContactInfo(phoneNumbers: string[]): Promise\nNativeModuleResponse\n{[key: string]: Contact;}\n\n\nFetches names and other info against given list of phone numbers. Keys of the returned map will be given phone numbers. \n\n\nRelevant types:\n\n\ninterface NativeModuleResponse\nT\n {\n    result: T,\n    grantToken?: string | null\n}\n\ninterface Contact {\n    name: string\n    phoneNumber: string\n}\n\n\n\n\nHandling Errors\n\n\nEvery promise reject contains an error code and a message:\nType:\n\n\ninterface NativeModuleError {\n    message: string;\n    errorCode: number;\n}\n\nCodes:\n0: Unknown error\n\n\n\n\nDetecting flipkart environment\n\n\nIf you want to detect if your webpage is running within Flipkart's ultra environment, you have three ways.\n1. [PREFERRED] Use JS SDK's \nFKPlatform.isPlatformAvailable()\n method.\n2. Use the user agent which contains \"Ultra\". This method is useful if you want to inject the JS SDK only when running within flipkart's ultra environment. An example user agent string \n\nMozilla/5.0 (Linux; Android 8.0.0; Android SDK built for x86 Build/OSR1.170901.008; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/58.0.3029.125 Mobile Safari/537.36 [Flipkart/com.flipkart.android/850000/5.16/UltraSDK/4/1.4.2]\n\nNote that if you have service workers making requests, this user agent will not be present.\n3. Use X-Requested-With header which will contain the value 'com.flipkart.android'. This will work for all requests including service workers. This is the least preferred method.\n\n\nDetecting presence of a certain feature\n\n\nUser agent string in ultra is of the following format:\n\nMozilla/5.0 (Linux; Android 8.0.0; Android SDK built for x86 Build/OSR1.170901.008; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/58.0.3029.125 Mobile Safari/537.36 [Flipkart/com.flipkart.android/850000/5.16/UltraSDK/4/1.4.2]\n\nIn the above user agent string, 5.16 is the version name and 850000 is version code for flipkart app, 1.4.2 is version name and 4 is version code for ultra SDK. \n\n\nBased on just the ultra version name (1.4.2) you can check if certain newly added modules are present or not.\n\n\nHandling file uploads and downloads (from flipkart app v6.3, ultra v1.3.7)\n\n\nStarting with Flipkart app version 6.3, ultra version 1.3.7, file uploads and downloads are present.\nFor downloads, ensure that 'download' attribute is not used. For e.g \na href='abcd.pdf' download='xyz.pdf' /\n will not work.\nAlso apis like FileSaver.js or blob based APIs dont work due to limitations in webview.\nFor uploads, there are no restrictions.", 
            "title": "Client Side API"
        }, 
        {
            "location": "/clients/#ultra-client-side-sdk", 
            "text": "", 
            "title": "Ultra Client Side SDK"
        }, 
        {
            "location": "/clients/#overview", 
            "text": "This SDK enables developers to build applications that run inside Flipkart app.  All the methods mentioned here will work with both React Native and Webview. \nAll the methods are asynchronous in nature and will always return a promise that gets resolved with the values. Fire and forget calls are an exception where you may not care about the response.  Note: Not open to all, access enabled only for partners.", 
            "title": "Overview"
        }, 
        {
            "location": "/clients/#getting-started", 
            "text": "", 
            "title": "Getting Started"
        }, 
        {
            "location": "/clients/#integration-steps", 
            "text": "", 
            "title": "Integration steps:"
        }, 
        {
            "location": "/clients/#step-1", 
            "text": "If using node, add this repository as an npm package  npm install --save fk-platform-sdk  Alternatively, you can also include the following script directly:  http://img1a.flixcart.com/linchpin-web/fk-platform-sdk/fkext-browser-min@0.1.5.js (Version 0.1.5)", 
            "title": "Step 1)"
        }, 
        {
            "location": "/clients/#step-2", 
            "text": "Import SDK and create a new platform instance. You will need to provide clientId given to you by Flipkart.  In Node Environment:  import FKPlatform from  fk-platform-sdk \nlet fkPlatform = new FKPlatform(clientId);  In Browser:  var fkPlatform = FKExtension.newPlatformInstance(clientID);  Post this you can start using modules.  Note: You should call  FKPlatform.isPlatformAvailable()  or,  window.FKExtension   FKExtension.isPlatformAvailable()  to check if you're inside Flipkart platform. It is recommended not to do any checks in partner code.", 
            "title": "Step 2)"
        }, 
        {
            "location": "/clients/#modules", 
            "text": "", 
            "title": "Modules"
        }, 
        {
            "location": "/clients/#permissions-module", 
            "text": "let permissionsModule = fkPlatform.getModuleHelper().getPermissionsModule()\n\n//To get scopes:\nconst SCOPES = permissionsModule.getScopes();  Available Scopes:  SCOPES.USER_EMAIL,\nSCOPES.USER_MOBILE,\nSCOPES.USER_NAME  Methods:  getToken: (permissions: ScopeAccessRequest[]) =  Promise NativeModuleResponse PermissionsManagerResponse  Relevant interfaces:  interface ScopeAccessRequest {\n    scope: Scopes;\n    isMandatory?: boolean;\n    shouldVerify?: boolean;\n}\n\ninterface NativeModuleResponse T  {\n    result: T,\n    grantToken?: string | null\n}\n\ninterface PermissionsManagerResponse { [key: Scopes]: boolean; }  isMandatory  is a boolean which says whether you want the scope to be mandatorily filled by the user  additionally  shouldVerify  is boolean which says whether you want the scope to be mandatorily verified as well  for e.g if you call  getToken(['scope':'user.email', 'isMandatory':true, 'shouldVerify':true]) , then that means user cannot grant permissions without filling his email address and also verifying it. You can use this on situations where you know that he user has an unverified email address and want to trigger email verification for the user.\nNote that the flags  isMandatory  and  shouldVerify  should be set to  true  only when you ABSOLUTELY need an email address which has to be verified as well, because you could see a significant drop off of permission grants when such constraints are imposed on users.   Also note that the permission popup has a special behaviour when a single scope is requested and also has a unverified value prefilled by the user. For e.g, when you ask permission for a user.email scope, and the user already has an unverified email address in our system, then the UI will automatically initiate the email verfication flow. This is done to avoid an extra click for the user.  The method  getToken  returns you both list of allowed and rejected permissions which depend on user response. It also returns an access token which you should be passing to your server using which it can hit Flipkart api to read relevant info. For security reasons secure info should only be read server to server using given grantToken.  Promise resolution : \nPromise fails and enters the  catch  block only if the user dismisses the permission popup (bottomsheet) or the SDK network calls failed.\nIf user denies a permission, the promise will be resolved successfully and you get a  grantToken .\nThis is because there could be partial permission denial as well. For e.g user denied phone number, but granted email address\nHence all the denials as well as accepts will still be treated as success from a token generation point of view.\nIf you want to check if user denied a permission, you can check the  NativeModuleResponse  result to see if the permissions are granted or not.  If the promise fails, Catch block function is invoked with an object which has  message  and  code .\nPossible errors are :   ERROR_CODE_UNKNOWN = 0;\nERROR_CODE_NETWORK_ERROR = 1001;\nERROR_CODE_JSON_PARSE_ERROR = 1002;\nERROR_CODE_INVALID_PERMISSIONS = 1003;\nERROR_CODE_USER_DISMISS = 1004;\nERROR_CODE_BAD_PERMISSION_REQUEST = 1005;", 
            "title": "Permissions Module"
        }, 
        {
            "location": "/clients/#navigation-module", 
            "text": "Common methods will enabled application to control their exit behaviour and deeplink into other parts of the app.  let navigationModule = fkPlatform.getModuleHelper().getNavigationModule()  Methods:  exitSession(): void  Closes the application and takes user back to the page from where the app was launched.  exitToHomePage(): void  Closes the application and takes user to Flipkart homepage.  startPayment(paymentToken: string): void  Launches Flipkart payment screen for given token.  clearHistory()?: void  Clears both forward and backward history such that only the existing page remains.", 
            "title": "Navigation Module"
        }, 
        {
            "location": "/clients/#contacts-module-from-flipkart-app-v63-ultra-v141", 
            "text": "Helps in launching a UI that allows user to select a contact from his address book.  let contactModule = fkPlatform.getModuleHelper().getContactsModule()  Methods:  pickPhoneNumber(): Promise NativeModuleResponse Contact  Launches UI to pick a phone number and returns the same.  getContactInfo(phoneNumbers: string[]): Promise NativeModuleResponse {[key: string]: Contact;}  Fetches names and other info against given list of phone numbers. Keys of the returned map will be given phone numbers.   Relevant types:  interface NativeModuleResponse T  {\n    result: T,\n    grantToken?: string | null\n}\n\ninterface Contact {\n    name: string\n    phoneNumber: string\n}", 
            "title": "Contacts Module (from flipkart app v6.3, ultra v1.4.1)"
        }, 
        {
            "location": "/clients/#handling-errors", 
            "text": "Every promise reject contains an error code and a message:\nType:  interface NativeModuleError {\n    message: string;\n    errorCode: number;\n}\n\nCodes:\n0: Unknown error", 
            "title": "Handling Errors"
        }, 
        {
            "location": "/clients/#detecting-flipkart-environment", 
            "text": "If you want to detect if your webpage is running within Flipkart's ultra environment, you have three ways.\n1. [PREFERRED] Use JS SDK's  FKPlatform.isPlatformAvailable()  method.\n2. Use the user agent which contains \"Ultra\". This method is useful if you want to inject the JS SDK only when running within flipkart's ultra environment. An example user agent string  Mozilla/5.0 (Linux; Android 8.0.0; Android SDK built for x86 Build/OSR1.170901.008; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/58.0.3029.125 Mobile Safari/537.36 [Flipkart/com.flipkart.android/850000/5.16/UltraSDK/4/1.4.2] \nNote that if you have service workers making requests, this user agent will not be present.\n3. Use X-Requested-With header which will contain the value 'com.flipkart.android'. This will work for all requests including service workers. This is the least preferred method.", 
            "title": "Detecting flipkart environment"
        }, 
        {
            "location": "/clients/#detecting-presence-of-a-certain-feature", 
            "text": "User agent string in ultra is of the following format: Mozilla/5.0 (Linux; Android 8.0.0; Android SDK built for x86 Build/OSR1.170901.008; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/58.0.3029.125 Mobile Safari/537.36 [Flipkart/com.flipkart.android/850000/5.16/UltraSDK/4/1.4.2] \nIn the above user agent string, 5.16 is the version name and 850000 is version code for flipkart app, 1.4.2 is version name and 4 is version code for ultra SDK.   Based on just the ultra version name (1.4.2) you can check if certain newly added modules are present or not.", 
            "title": "Detecting presence of a certain feature"
        }, 
        {
            "location": "/clients/#handling-file-uploads-and-downloads-from-flipkart-app-v63-ultra-v137", 
            "text": "Starting with Flipkart app version 6.3, ultra version 1.3.7, file uploads and downloads are present.\nFor downloads, ensure that 'download' attribute is not used. For e.g  a href='abcd.pdf' download='xyz.pdf' /  will not work.\nAlso apis like FileSaver.js or blob based APIs dont work due to limitations in webview.\nFor uploads, there are no restrictions.", 
            "title": "Handling file uploads and downloads (from flipkart app v6.3, ultra v1.3.7)"
        }, 
        {
            "location": "/backend/", 
            "text": "Ultra Backend APIs\n\n\nEndpoint Contracts\n\n\nProd endpoint: \nhttps://platform.flipkart.net\n\n\nAccess token flow\n\n\nUsing the grantToken from the SDK, you have to fetch the accessToken before querying for any resources.\nGet Auth token flow\nPath: /1/authorization/auth\n\n\nMethod: GET\nQuery parameters: \n\n\ngrantToken : String\nclientId : String\nclientSecret : String\nResponse :\nAuthTokenResponse {\nidentityToken (string),\naccessToken (string)\n}\n\n\nResource fetching flow\n\n\nResources like user.mobile, user.email can be fetched with this API\nfetch bulk data\nPath: /1/resource/bulk\n\n\nMethod: POST\nQuery parameters: \naccessToken : String\nBody: List\n //where each string is scope for which data is to be fetched.\nResponse : Map\n // String the scope and Object for each scope is defined below\nuser.mobile{\nemail(string)\nisVerified(boolean)\n}\nuser.email{\nmobileNumber(string)\nisVerified(boolean)\n}\n\n\nPayment flow.\n\n\nPayment Token\n\n\nPath: 1/payment/token\n\n\nMethod: POST\nBody: PaymentTokenRequest \nPaymentTokenRequest {\nmerchantCredential(MerchantCredential),\namountPaise (long),\npaymentExpiryMilliSeconds (long, optional),\nuserInfo (UserInfo),\nadjustmentWrapper(AdjustmentWrapper, optional),\npriceSummary (PriceSummary),\nsuccessfulCallBackUrl (string),\nfailureCallBackUrl (string),\naddress (Address, optional),\ndescription (string, optional),\nmetadata (string, optional),\nmerchantTransactionId (string),\nmerchantReferenceId (string)\n}\nMerchantCredential {\nname (string),\npassword (string)\n}\nUserInfo {\nname (string, optional),\nphone (string, optional),\nemail (string, optional),\nidentityToken (string)\n}\nAdjustmentWrapper {\neligibleAdjustments(Array[EligibleAdjustment], optional)\n}\nEligibleAdjustment {\nadjustment_id (string, optional),\nofferUnitPrice (long, optional),\nmetadata (object, optional)\n}\nPriceSummary {\nbasePricePaise (long),\nitemCount (integer),\nbreakup(Array[PriceSummaryBreakup])\n}\nPriceSummaryBreakup {\ndescription (string),\ndisplayText (string),\nvalueInPaise (long),\nbreakupType (string) = ['DEFAULT' or 'DISCOUNT']\n}\nAddress {\naddressLine (string, optional),\ncity (string, optional),\nstate (string, optional),\npincode (string, optional),\ncountry (string, optional)\n}\nResponse : PaymentToken\nPaymentToken {\ntoken (string)\n}\nSample Request\n{\n  \"merchantCredential\": {\n    \"name\": \"Enter name here\",\n    \"password\": \"Enter hash here\"\n  },\n  \"merchantTransactionId\": \"transaction1\",\n  \"merchantReferenceId\": \"order1\",\n  \"amountPaise\": 200,\n  \"paymentExpiryMilliSeconds\": 100000,\n  \"userInfo\": {\n    \"identityToken\": \"Actual ID token here\"\n  },\n  \"successfulCallBackUrl\": \"http://www.partner.com/success\",\n  \"failureCallBackUrl\": \"http://www.partner.com/failure\",\n  \"description\": \"this is a test transaction\",\n  \"metadata\": \"this is a test transaction\",\n  \"priceSummary\": {\n    \"basePricePaise\": 100,\n    \"itemCount\": 0,\n    \"breakup\": [\n      {\n        \"description\": \"convinience_fee\",\n        \"displayText\": \"Convinence Fee\",\n        \"valueInPaise\": 100,\n        \"breakupType\": \"DEFAULT\"\n      }\n    ]\n  }\n}\n\n\nCallback after PGResponse\n\n\nRequest (will be sent as form parameters)\n\n\n{\n      \"transaction_status\": \"\", //  SUCCESS, FAILED\n      \"account_type\": \"NODAL\",\n      \"pg_trackid\": \"\",   \n\n      \"merchant_adjustments\": \n      \"[\n      {\"offer_id\":\"\",\n      \"offer_unit_price\":0,\n      \"amount_applied\":0,\n      \"amount_requested\":0,\n      \"actual_subvention_amount\":0,\n      \"effective_subvention_amount\":0,\n      \"Adjustment_response_code\": AdjustmentResponseCode,   //  Appendix\n      \"metadata\":{\"paymentSystem\":\"\", \"offerId\":\"\", \"discountType\":\"\"}}\n      ]\",\n      \"transaction_amount\": \"\",\n      \"emi_months\": \"\",\n      \"merchant_id\": \"\",\n      \"transaction_response_code\": \"\",      //  Appendix\n      \"payzippy_transaction_id\": \"\",\n      \"having_multiple_transactions\": \"\",\n      \"bank_name\": \"\",\n      \"card_brand\": CardName,   //  Appendix\n      \"hash_method\": \"\",\n      \"transaction_time\": \"\",\n      \"transaction_currency\": \"\",\n      \"payment_method\": \"\",     //  Appendix\n      \"timestamp\": \"\",\n      \"merchant_key_id\": \"\",\n      \"primary_record\": \n      \"{\"transaction_id\": \"\", \"primary_amount\": \"\"}\",\n      \"merchant_transaction_id\": \"\",\n      \"bank_transaction_id\": \"\",\n      \"payment_instrument\": \"\",\n      \"transaction_response_message\": \"\",\n      \"pg_mid\": \"\",\n      \"pg_name\": \"\",\n      \"pg_authcode\": \"\",\n      \"pg_id\": \"\",\n      \"is_international\": \"\",\n      \"fraud_action\": \"\",\n      \"is_risky_instrument\": \"\",\n      \"transaction_auth_state\": \"\",\n      \"hash\": \"\",\n      \"masked_card_number\": \"\",\n\"card_bin\": \"\",\n}\n\n\nForm Data\n\n\ntransaction_status=\"\"\naccount_type=\"\"\npg_trackid=\"\"\nmerchant_adjustments=[ {'offer_id':'', 'offer_unit_price':0, 'amount_applied':0, 'amount_requested':0, 'actual_subvention_amount':0, 'effective_subvention_amount':0, ent_response_code':'', 'metadata':{'paymentSystem':'', 'offerId':'', 'discountType':''}} ]transaction_amount=\"\"\nemi_months=\"\"\nmerchant_id=\"\"\ntransaction_response_code=\"\"\npayzippy_transaction_id=\"\"\nhaving_multiple_transactions=\"\"\nbank_name=\"\"\ncard_brand=\"\"\nhash_method=\"\"\ntransaction_time=\"\"\ntransaction_currency=\"\"\npayment_method=\"\"\ntimestamp=\"\"\nmerchant_key_id=\"\"\nprimary_record={'transaction_id': '', 'primary_amount': ''}merchant_transaction_id=\"\"\nbank_transaction_id=\"\"\npayment_instrument=\"\"\ntransaction_response_message=\"\"\npg_mid=\"\"\npg_name=\"\"\npg_authcode=\"\"\npg_id=\"\"\nis_international=\"\"\nfraud_action=\"\"\nis_risky_instrument=\"\"\ntransaction_auth_state=\"\"\nhash=\"\"\nmasked_card_number=\"\"\ntransaction_status=\"\"\naccount_type=\"\"\npg_trackid=\"\"\nmerchant_adjustments=\"\"\ntransaction_amount=\"\"\nemi_months=\"\"\nmerchant_id=\"\"\ntransaction_response_code=\"\"\npayzippy_transaction_id=\"\"\nhaving_multiple_transactions=\"\"\nbank_name=\"\"\ncard_brand=\"\"\nhash_method=\"\"\ntransaction_time=\"\"\ntransaction_currency=\"\"\npayment_method=\"\"\ntimestamp=\"\"\nmerchant_key_id=\"\"\nprimary_record=\"\"\nmerchant_transaction_id=\"\"\nbank_transaction_id=\"\"\npayment_instrument=\"\"\ntransaction_response_message=\"\"\npg_mid=\"\"\npg_name=\"\"\npg_authcode=\"\"\npg_id=\"\"\nis_international=\"\"\nfraud_action=\"\"\nis_risky_instrument=\"\"\ntransaction_auth_state=\"\"\nhash=\"\"\nmasked_card_number=\"\"\n\n\nQuery\n\n\nPath: 1/payment/query\n\n\nMethod: POST\nBody: QueryRequest \nQueryRequest {\nmerchantCredential(MerchantCredential),\nforcePgQuery (boolean, optional),\nmerchantTransactionId (string),\npaymentTransactionId (string),\ntransactionType (string, optional) = ['ADJUSTMENT' or 'SALE' or 'REFUND' or 'REVADJUSTMENT']\n}\nMerchantCredential {\nname (string),\npassword (string)\n}\nResponse : QueryResponse\n QueryResponse {\nresponseStatus (string, optional) = ['SUCCESS' or 'FAILED'],\nresponseType (string, optional),\nresponseMessage (string, optional),\nmessages (Array[QueryMessage], optional),\nmerchantId (string, optional),\nmerchantTransactionId (string, optional),\nmerchantReferenceId (string, optional),\ntransactionState (string, optional) = ['INITIATED' or 'PENDING' or 'SUCCESS' or 'FAILED'],\npaymentTransactions (Array[PaymentTransaction], optional)\n}\n\n\nQueryMessage {\ntype (string, optional),\nmessage (string, optional)\n}\nPaymentTransaction {\nmerchantTransactionId (string, optional),\npaymentTransactionId (string, optional),\ntransactionAmount (long, optional),\ntransactionCurrency (string, optional),\ntransactionType (string, optional) = ['ADJUSTMENT' or 'SALE' or 'REFUND' or 'REVADJUSTMENT'],\ntransactionTime (string, optional),\nrealTransactionTime (string, optional),\ntransactionStatus (string, optional) = ['INITIATED' or 'PENDING' or 'SUCCESS' or 'FAILED'],\ntransactionAuthState (string, optional) = ['PRE_AUTH' or 'PARTIAL_CAPTURED' or 'FULL_CAPTURED' or 'CAPTURE_COMPLETED' or 'VOID' or 'FAILED' or 'SALE'],\ntransactionResponseCode (string, optional) = ['REFUND_REQUEST_ACCEPTED' or 'REFUND_REQUEST_SENT' or 'REFUNDED' or 'REFUND_VOID_SUCCESS' or 'TXNID_NOT_FOUND' or 'REFUND_NOT_SUPPORTED' or 'REFUND_WINDOW_EXPIRED' or 'SIMILAR_PREVIOUS_PARTIAL_REFUND_DETECTED' or 'SALE_TRANSACTION_UNSUCCESSFUL' or 'SALE_TRANSACTION_VOID' or 'PARTIAL_REFUNDS_UNSUPPORTED' or 'INSUFFICIENT_BALANCE' or 'DUPLICATE_REFUND_REQUEST' or 'EXCESS_REFUND_AMOUNT' or 'SALE_TRANSACTION_REFUNDED' or 'MULTIPLE_REFUNDS_UNSUPPORTED' or 'REFUND_TEMPORARILY_UNAVAILABLE' or 'VISA_DIRECT_TIMEOUT' or 'PENDING_ON_REFUND_REQUERY' or 'FAILED_ON_REFUND_REQUERY' or 'COULD_NOT_ACQUIRE_LOCK' or '_3DS_AUTH_FAILED' or '_3DS_AUTH_UNSUPPORTED' or 'ADDRESS_VERIFICATION_FAILED' or 'BANK_RESPONSE_DELAYED' or 'BIN_BLOCKED_BY_ACQUIRER' or 'CARD_EXPIRED' or 'CARD_NOT_ENROLLED' or 'CARD_NUMBER_INVALID' or 'COUNTRY_NOT_SUPPORTED' or 'CVV_INCORRECT' or 'CVV_MISSING' or 'SBI_DEBIT_CARD_BLOCKED' or 'PIN_INCORRECT' or 'CANCELLED_BY_ACQUIRER' or 'DECLINED_BY_ACQUIRER' or 'DECLINED_BY_ISSUER' or 'DECLINED_BY_RISK' or 'INSUFFICIENT_FUNDS' or 'ISSUER_TECHNICAL_ERROR' or 'EMI_NO_PG_FOR_CURRENT_AMOUNT' or 'NO_PG_FOR_CURRENT_AMOUNT' or 'UPI_EXTERNAL_VPA_UNSUPPORTED' or 'MID_NOT_ACTIVE' or 'MID_NOT_FOUND' or 'DUPLICATE_TXN_REQUEST' or 'INVALID_TRANSACTION_ID' or 'MERCHANT_AUTH_FAILED' or 'DECLINED_BY_PAYZIPPY' or 'BANK_UNAVAILABLE' or 'CARD_EXPIRY_DATE_INVALID' or 'CANCELLED_BY_USER' or 'USER_SESSION_TIMED_OUT' or 'USER_REFRESH_COUNT_EXCEEDED' or 'USER_RETRY_COUNT_EXCEEDED' or 'INVALID_PROCESSPAY_REQUEST' or 'MANDATORY_PARAM_MISSING' or 'INVALID_PARAM_FORMAT' or 'INVALID_PARAM_VALUE' or 'INVALID_PAYZIPPY_ACCOUNT' or 'NETBANKING_NOT_ENABLED' or 'NETBANKING_LIMIT_EXCEEDED' or 'ACCOUNT_ON_HOLD' or 'PAY_LATER_ELIGIBILITY_FAILURE' or 'PAYZIPPY_TECHNICAL_ERROR' or 'ACQUIRER_TECHNICAL_ERROR' or 'SUCCESS' or 'INITIATED' or 'PENDING' or 'REQUEST_FIELD_INVALID' or 'SYSTEM_UNDER_MAINTENANCE' or 'EMPTY_OTP_ERROR' or 'INTERNAL_SERVER_ERROR' or 'DATABASE_SERVER_ERROR' or 'PROTOCOL_ERROR' or 'NOT_PERMITTED' or 'CARD_NOT_IN_3DS_RANGE' or 'INVALID_AUTH_DATA' or 'INVALID_REQUEST_TYPE' or 'INVALID_REQUEST_XML_FORMAT' or 'HASH_CHECK_FAILED' or 'INVALID_MERCHANT_ID' or 'ITP_VALIDATION_FAILED' or 'INVALID_IVR_OTP_DATA' or 'TIMED_OUT' or 'UNABLE_TO_PROCESS_REQUEST' or 'INVALID_RESPONSE_XML_FORMAT' or 'CARD_BLOCKS' or 'OPEN_ECS_NACH_MANDATE' or 'DDF_DEALER' or 'CARD_OFFER_EXHAUSTED' or 'CHECK_SUM_MISMATCH'],\nrefundResponseCode (string, optional) = ['SUCCESS' or 'REFUND_REQUEST_ACCEPTED' or 'REFUND_REQUEST_SENT' or 'REFUNDED' or 'REFUND_VOID_SUCCESS' or 'TXNID_NOT_FOUND' or 'REFUND_NOT_SUPPORTED' or 'REFUND_WINDOW_EXPIRED' or 'SIMILAR_PREVIOUS_PARTIAL_REFUND_DETECTED' or 'SALE_TRANSACTION_UNSUCCESSFUL' or 'SALE_TRANSACTION_VOID' or 'PARTIAL_REFUNDS_UNSUPPORTED' or 'INSUFFICIENT_BALANCE' or 'DUPLICATE_REFUND_REQUEST' or 'EXCESS_REFUND_AMOUNT' or 'SALE_TRANSACTION_REFUNDED' or 'MULTIPLE_REFUNDS_UNSUPPORTED' or 'PAYZIPPY_TECHNICAL_ERROR' or 'ACQUIRER_TECHNICAL_ERROR' or 'REFUND_TEMPORARILY_UNAVAILABLE' or 'VISA_DIRECT_TIMEOUT' or 'PENDING_ON_REFUND_REQUERY' or 'FAILED_ON_REFUND_REQUERY' or 'COULD_NOT_ACQUIRE_LOCK' or 'UPI_EXTERNAL_VPA_UNSUPPORTED'],\ntransactionResponseMessage (string, optional),\nbankArn (string, optional),\nrefundSla (RefundSla, optional),\npaymentMethod (string, optional) = ['CREDIT' or 'DEBIT' or 'EMI' or 'NET' or 'PAYZIPPY' or 'NET_OPTIONS' or 'EMI_OPTIONS' or 'PHONEPE' or 'FLIPKART_CREDIT'],\npaymentInstrument (string, optional) = ['CREDIT' or 'DEBIT' or 'EMI' or 'NET' or 'PAYZIPPY' or 'NET_OPTIONS' or 'EMI_OPTIONS' or 'PHONEPE' or 'FLIPKART_CREDIT'],\nemiMonths (long, optional),\nbankName (string, optional),\nemiScheme (EmiScheme, optional),\nfraudAction (string, optional),\nfraudDecision (string, optional),\nfraudDetails (string, optional),\nfraudSource (string, optional),\npgMID (string, optional),\npgTrackId (string, optional),\npgId (string, optional),\npgName (string, optional),\nbankTransactionId (string, optional),\nterminalId (string, optional),\npgAuthCode (string, optional),\naccountType (string, optional),\nsubventionPercentage (long, optional),\ncardBrand (string, optional) = ['VISA' or 'MASTERCARD' or 'AMEX' or 'MAESTRO' or 'DINERS' or 'RUPAY' or 'DEFAULT' or 'DISCOVER' or 'BAJAJ'],\ncardBin (string, optional),\norderId (string, optional),\nrelatedRecords (Array[RelatedRecord], optional),\nprimaryAmount (long, optional),\nmerchantAdjustments (Array[MerchantAdjustment], optional),\nqueryTransactionStatus (string, optional),\nmetadata (string, optional),\nsaleTransactionId (string, optional),\nconfirmedFraud (boolean, optional),\ninternational (boolean, optional),\nriskyInstrument (boolean, optional)\n}\nRefundSla {\nminSla (long, optional),\nmaxSla (long, optional)\n}\nEmiScheme {\nemiTenureInMonths (long, optional),\ninterestValue (long, optional),\ninterestType (string, optional)\n}\nRelatedRecord {\nadjustmentTransactionId (string, optional),\nrelation (string, optional),\nadjustmentId (string, optional),\nadjustmentAmount (long, optional)\n}\nMerchantAdjustment {\ntransactionId (string, optional),\nofferId (string, optional),\nofferUnitPrice (long, optional),\namountApplied (long, optional),\namountRequested (long, optional),\npromiseDate (string, optional),\nactualSubventionAmount (long, optional),\neffectiveSubventionAmount (long, optional),\nadjustmentResponseCode (string, optional) = ['EXPIRED' or 'INVALID' or 'FAILED_BY_TIME' or 'REJECTED_BY_WHITELIST' or 'REJECTED_BY_BLACKLIST' or 'REJECTED_BY_RULE' or 'REJECTED_LOW_PRIORITY' or 'EXHAUSTED_BY_TXNID' or 'EXHAUSTED_BY_EMAIL' or 'EXHAUSTED_BY_ACCOUNT' or 'EXHAUSTED_BY_PHONE' or 'EXHAUSTED_BY_IP' or 'EXHAUSTED_BY_ACCID' or 'EXHAUSTED_BY_MID' or 'EXHAUSTED_GLOBAL' or 'EXHAUSTED_BY_CARD' or 'MISSING_PAYMENT_INFO' or 'ELIGIBLE' or 'NOT_ELIGIBLE' or 'OFFER_NOT_APPLIED' or 'REJECTED_DUE_TO_PAYMENT_WARNING'],\nadjustmentType (string, optional) = ['INSTANT_DISCOUNT' or 'CASHBACK_ON_CARD' or 'CASHBACK_IN_BANK' or 'CASHBACK_IN_WALLET' or 'INSTANT_CASHBACK' or 'DOWN_PAYMENT'],\nmetadata (object, optional)\n}\nSample Request\n{\n  \"merchantCredential\": {\n    \"name\": \"Enter name here\",\n    \"password\": \"Enter hash here\"\n  },\n  \"forcePgQuery\": true,\n  \"merchantTransactionId\": \"transaction1\",\n  \"paymentTransactionId\": \"PZT1712211056FQM0400\"\n}\n\n\nRefund\n\n\nPath: 1/payment/query\n\n\nMethod: POST\nBody: RefundRequest \nRefundRequest {\nmerchantCredential(MerchantCredential),\nmerchantTransactionId (string),\npayzippySaleTrasactionId (string),\nrefundAmount (long),\nrefundReason (string),\nrefundedBy (string),\nmerchantRefundTransactionId(string, optional),\nidempotencyId (string, optional),\nmetadata (string, optional)\n}\nMerchantCredential {\nname (string),\npassword (string)\n}\nResponse : RefundResponse\nRefundResponse {\nbankArn (string, optional),\npgMID (string, optional),\npgTrackId (string, optional),\npgId (string, optional),\npgName (string, optional),\nbankTransactionId (string, optional),\nterminalId (string, optional),\ncardBrand (string, optional) = ['VISA' or 'MASTERCARD' or 'AMEX' or 'MAESTRO' or 'DINERS' or 'RUPAY' or 'DEFAULT' or 'DISCOVER' or 'BAJAJ'],\ncardBin (string, optional),\nadjustmentTransactionIds (string, optional),\nadjustmentRelations (string, optional),\nadjustmentIds (string, optional),\nadjustmentAmounts (string, optional),\nrefundAmount (long, optional),\nmerchantTransactionId (string, optional),\npayzippyTransactionId (string, optional),\nrefundCurrency (string, optional),\ntransactionTime (long, optional),\nrefundSla (RefundSla, optional),\nrefundStatus (string, optional) = ['REFUND_REQUEST_RECEIVED' or 'REFUND_REQUEST_SUBMITTED' or 'SUCCESS' or 'FAILED' or 'REFUNDED' or 'PENDING'],\nrefundResponseCode (string, optional) = ['SUCCESS' or 'REFUND_REQUEST_ACCEPTED' or 'REFUND_REQUEST_SENT' or 'REFUNDED' or 'REFUND_VOID_SUCCESS' or 'TXNID_NOT_FOUND' or 'REFUND_NOT_SUPPORTED' or 'REFUND_WINDOW_EXPIRED' or 'SIMILAR_PREVIOUS_PARTIAL_REFUND_DETECTED' or 'SALE_TRANSACTION_UNSUCCESSFUL' or 'SALE_TRANSACTION_VOID' or 'PARTIAL_REFUNDS_UNSUPPORTED' or 'INSUFFICIENT_BALANCE' or 'DUPLICATE_REFUND_REQUEST' or 'EXCESS_REFUND_AMOUNT' or 'SALE_TRANSACTION_REFUNDED' or 'MULTIPLE_REFUNDS_UNSUPPORTED' or 'PAYZIPPY_TECHNICAL_ERROR' or 'ACQUIRER_TECHNICAL_ERROR' or 'REFUND_TEMPORARILY_UNAVAILABLE' or 'VISA_DIRECT_TIMEOUT' or 'PENDING_ON_REFUND_REQUERY' or 'FAILED_ON_REFUND_REQUERY' or 'COULD_NOT_ACQUIRE_LOCK' or 'UPI_EXTERNAL_VPA_UNSUPPORTED'],\nrefundResponseMessage (string, optional),\nmetaData (string, optional)\n}\nRefundSla {\nminSla (long, optional),\nmaxSla (long, optional)\n}\nSample Request\n{\n  \"merchantCredential\": {\n    \"name\": \"Enter name here\",\n    \"password\": \"Enter hash here\"\n  },\n  \"merchantTransactionId\": \"transaction1\",\n  \"payzippySaleTrasactionId\": \"PZT1712211056FQM0400\",\n  \"refundAmount\": 100,\n  \"refundReason\": \"testing\",\n  \"refundedBy\": \"Anvay\",\n  \"merchantRefundTransactionId\": \"transaction1-refund1\"\n}\n\n\nOMS\n\n\nOMS Insert\n\n\nPath: /1/oms/insert\nMethod: POST\nBody: RefundRequest \nOMSPayload {\norderId (string),\nimageUrl (string),\ndescription (string),\namount (double),\ndisbursalText (string),\nsecondaryDisbursalText (string),\nidentityToken (string),\nstate (string) ['INITIATED' or 'SUCCESSFUL' or 'FAILED'],\nitems (Array[OMSItem]),\noffers (Array[OMSOffers], optional),\ntimestamp (long)\n}\nOMSItem {\nitemId (string),\ntitle (string),\namount (long),\ncategory (string)\n}\nOMSOffers {\nofferId (string),\ntitle (string),\nsource (string)\n}\nResponse: String\n\n\nSample Request\n{\n    \"orderId\":\"dummyOrder1\",\n    \"imageUrl\": \"http://www.google.com/img/test\",\n    \"description\":\"This is an order id\",\n    \"amount\": 220.14,\n    \"disbursalText\":\"You order has been recharged\",\n    \"secondaryDisbursalText\":\"Recharge is already done, Go get a life\",\n    \"identityToken\":\"IDTKNE4783BAFB3B54713A46EC4B9EB5D59DEKNG\",\n    \"state\":\"DUMMY\",\n    \"timestamp\": 1523960011000,\n    \"items\": [\n        {\n            \"itemId\" : \"dummyItemId1\",\n            \"title\" : \"This is the recharge product you just purchased\",\n            \"amount\" : 220.14,\n            \"category\" : \"recharge\"\n        }\n    ],\n    \"offers\": [\n        {\n            \"offerId\" : \"dummyOfferId\",\n            \"title\" : \"Get everything for free\",\n            \"source\" : \"merchant\"\n        }\n    ]\n}\n\n\nOMS State update\n\n\nPath: /1/oms/update/state\nMethod: PUT\nQuery: \norderId : String\nstate : String  ['INITIATED' or 'SUCCESSFUL' or 'FAILED']\n\n\nOMS Refund\n\n\nPath: /1/oms/create/refund\nMethod: PUT\nBody: \nRefundPayload {\norderId (string),\ntransactionId (string),\namount (double),\nsource (string),\ntitle (string),\nrefundId (string)\n}\n\n\nSample Request\n{\n    \"orderId\" : \"dummyOrder1\",\n    \"transactionId\" : \"dummyRefundTransactionId\",\n    \"amount\" : 20.12,\n    \"source\" : \"merchant\",\n    \"title\" : \"Refund because merchant says so\",\n    \"refundId\" : \"dummyRefundId\"\n}\n\n\nSecurity\n\n\nAll production endpoints will be over https.\nWe will validate Client\u2019s identity using JWT.\nThe JWT will be shared in every call in header as a \u2018secureToken\u2019\n\n\nProperties of secure token\nAlgorithm RS256\nFields to be present in payload\niss -\n Issuer -\n which is equal to clientId\niat -\n Issued At -\n Timestamp with seconds resolution when the token was generate. This will fail if in future.\nexp -\n Expiry At -\n Timestamp with seconds resolution when the token expires. exp-iat should not be more than 1000\nThe Public key should be shared with flipkart before hand.\n\n\nTest endpoint for secure token\n\n\nPath: /1/dummy\nMethod: GET\nHeader: secureToken\nResponse:  Will be HTTP 200 if secureToken is valid otherwise response code will be self explanatory.", 
            "title": "Server Side API"
        }, 
        {
            "location": "/backend/#ultra-backend-apis", 
            "text": "", 
            "title": "Ultra Backend APIs"
        }, 
        {
            "location": "/backend/#endpoint-contracts", 
            "text": "Prod endpoint:  https://platform.flipkart.net", 
            "title": "Endpoint Contracts"
        }, 
        {
            "location": "/backend/#access-token-flow", 
            "text": "Using the grantToken from the SDK, you have to fetch the accessToken before querying for any resources.\nGet Auth token flow\nPath: /1/authorization/auth  Method: GET\nQuery parameters:   grantToken : String\nclientId : String\nclientSecret : String\nResponse :\nAuthTokenResponse {\nidentityToken (string),\naccessToken (string)\n}", 
            "title": "Access token flow"
        }, 
        {
            "location": "/backend/#resource-fetching-flow", 
            "text": "Resources like user.mobile, user.email can be fetched with this API\nfetch bulk data\nPath: /1/resource/bulk  Method: POST\nQuery parameters: \naccessToken : String\nBody: List  //where each string is scope for which data is to be fetched.\nResponse : Map  // String the scope and Object for each scope is defined below\nuser.mobile{\nemail(string)\nisVerified(boolean)\n}\nuser.email{\nmobileNumber(string)\nisVerified(boolean)\n}", 
            "title": "Resource fetching flow"
        }, 
        {
            "location": "/backend/#payment-flow", 
            "text": "", 
            "title": "Payment flow."
        }, 
        {
            "location": "/backend/#payment-token", 
            "text": "Path: 1/payment/token  Method: POST\nBody: PaymentTokenRequest \nPaymentTokenRequest {\nmerchantCredential(MerchantCredential),\namountPaise (long),\npaymentExpiryMilliSeconds (long, optional),\nuserInfo (UserInfo),\nadjustmentWrapper(AdjustmentWrapper, optional),\npriceSummary (PriceSummary),\nsuccessfulCallBackUrl (string),\nfailureCallBackUrl (string),\naddress (Address, optional),\ndescription (string, optional),\nmetadata (string, optional),\nmerchantTransactionId (string),\nmerchantReferenceId (string)\n}\nMerchantCredential {\nname (string),\npassword (string)\n}\nUserInfo {\nname (string, optional),\nphone (string, optional),\nemail (string, optional),\nidentityToken (string)\n}\nAdjustmentWrapper {\neligibleAdjustments(Array[EligibleAdjustment], optional)\n}\nEligibleAdjustment {\nadjustment_id (string, optional),\nofferUnitPrice (long, optional),\nmetadata (object, optional)\n}\nPriceSummary {\nbasePricePaise (long),\nitemCount (integer),\nbreakup(Array[PriceSummaryBreakup])\n}\nPriceSummaryBreakup {\ndescription (string),\ndisplayText (string),\nvalueInPaise (long),\nbreakupType (string) = ['DEFAULT' or 'DISCOUNT']\n}\nAddress {\naddressLine (string, optional),\ncity (string, optional),\nstate (string, optional),\npincode (string, optional),\ncountry (string, optional)\n}\nResponse : PaymentToken\nPaymentToken {\ntoken (string)\n}\nSample Request\n{\n  \"merchantCredential\": {\n    \"name\": \"Enter name here\",\n    \"password\": \"Enter hash here\"\n  },\n  \"merchantTransactionId\": \"transaction1\",\n  \"merchantReferenceId\": \"order1\",\n  \"amountPaise\": 200,\n  \"paymentExpiryMilliSeconds\": 100000,\n  \"userInfo\": {\n    \"identityToken\": \"Actual ID token here\"\n  },\n  \"successfulCallBackUrl\": \"http://www.partner.com/success\",\n  \"failureCallBackUrl\": \"http://www.partner.com/failure\",\n  \"description\": \"this is a test transaction\",\n  \"metadata\": \"this is a test transaction\",\n  \"priceSummary\": {\n    \"basePricePaise\": 100,\n    \"itemCount\": 0,\n    \"breakup\": [\n      {\n        \"description\": \"convinience_fee\",\n        \"displayText\": \"Convinence Fee\",\n        \"valueInPaise\": 100,\n        \"breakupType\": \"DEFAULT\"\n      }\n    ]\n  }\n}", 
            "title": "Payment Token"
        }, 
        {
            "location": "/backend/#callback-after-pgresponse", 
            "text": "Request (will be sent as form parameters)  {\n      \"transaction_status\": \"\", //  SUCCESS, FAILED\n      \"account_type\": \"NODAL\",\n      \"pg_trackid\": \"\",    \n      \"merchant_adjustments\": \n      \"[\n      {\"offer_id\":\"\",\n      \"offer_unit_price\":0,\n      \"amount_applied\":0,\n      \"amount_requested\":0,\n      \"actual_subvention_amount\":0,\n      \"effective_subvention_amount\":0,\n      \"Adjustment_response_code\": AdjustmentResponseCode,   //  Appendix\n      \"metadata\":{\"paymentSystem\":\"\", \"offerId\":\"\", \"discountType\":\"\"}}\n      ]\",\n      \"transaction_amount\": \"\",\n      \"emi_months\": \"\",\n      \"merchant_id\": \"\",\n      \"transaction_response_code\": \"\",      //  Appendix\n      \"payzippy_transaction_id\": \"\",\n      \"having_multiple_transactions\": \"\",\n      \"bank_name\": \"\",\n      \"card_brand\": CardName,   //  Appendix\n      \"hash_method\": \"\",\n      \"transaction_time\": \"\",\n      \"transaction_currency\": \"\",\n      \"payment_method\": \"\",     //  Appendix\n      \"timestamp\": \"\",\n      \"merchant_key_id\": \"\",\n      \"primary_record\": \n      \"{\"transaction_id\": \"\", \"primary_amount\": \"\"}\",\n      \"merchant_transaction_id\": \"\",\n      \"bank_transaction_id\": \"\",\n      \"payment_instrument\": \"\",\n      \"transaction_response_message\": \"\",\n      \"pg_mid\": \"\",\n      \"pg_name\": \"\",\n      \"pg_authcode\": \"\",\n      \"pg_id\": \"\",\n      \"is_international\": \"\",\n      \"fraud_action\": \"\",\n      \"is_risky_instrument\": \"\",\n      \"transaction_auth_state\": \"\",\n      \"hash\": \"\",\n      \"masked_card_number\": \"\",\n\"card_bin\": \"\",\n}  Form Data  transaction_status=\"\" account_type=\"\" pg_trackid=\"\" merchant_adjustments=[ {'offer_id':'', 'offer_unit_price':0, 'amount_applied':0, 'amount_requested':0, 'actual_subvention_amount':0, 'effective_subvention_amount':0, ent_response_code':'', 'metadata':{'paymentSystem':'', 'offerId':'', 'discountType':''}} ]transaction_amount=\"\" emi_months=\"\" merchant_id=\"\" transaction_response_code=\"\" payzippy_transaction_id=\"\" having_multiple_transactions=\"\" bank_name=\"\" card_brand=\"\" hash_method=\"\" transaction_time=\"\" transaction_currency=\"\" payment_method=\"\" timestamp=\"\" merchant_key_id=\"\" primary_record={'transaction_id': '', 'primary_amount': ''}merchant_transaction_id=\"\" bank_transaction_id=\"\" payment_instrument=\"\" transaction_response_message=\"\" pg_mid=\"\" pg_name=\"\" pg_authcode=\"\" pg_id=\"\" is_international=\"\" fraud_action=\"\" is_risky_instrument=\"\" transaction_auth_state=\"\" hash=\"\" masked_card_number=\"\" transaction_status=\"\" account_type=\"\" pg_trackid=\"\" merchant_adjustments=\"\" transaction_amount=\"\" emi_months=\"\" merchant_id=\"\" transaction_response_code=\"\" payzippy_transaction_id=\"\" having_multiple_transactions=\"\" bank_name=\"\" card_brand=\"\" hash_method=\"\" transaction_time=\"\" transaction_currency=\"\" payment_method=\"\" timestamp=\"\" merchant_key_id=\"\" primary_record=\"\" merchant_transaction_id=\"\" bank_transaction_id=\"\" payment_instrument=\"\" transaction_response_message=\"\" pg_mid=\"\" pg_name=\"\" pg_authcode=\"\" pg_id=\"\" is_international=\"\" fraud_action=\"\" is_risky_instrument=\"\" transaction_auth_state=\"\" hash=\"\" masked_card_number=\"\"", 
            "title": "Callback after PGResponse"
        }, 
        {
            "location": "/backend/#query", 
            "text": "Path: 1/payment/query  Method: POST\nBody: QueryRequest \nQueryRequest {\nmerchantCredential(MerchantCredential),\nforcePgQuery (boolean, optional),\nmerchantTransactionId (string),\npaymentTransactionId (string),\ntransactionType (string, optional) = ['ADJUSTMENT' or 'SALE' or 'REFUND' or 'REVADJUSTMENT']\n}\nMerchantCredential {\nname (string),\npassword (string)\n}\nResponse : QueryResponse\n QueryResponse {\nresponseStatus (string, optional) = ['SUCCESS' or 'FAILED'],\nresponseType (string, optional),\nresponseMessage (string, optional),\nmessages (Array[QueryMessage], optional),\nmerchantId (string, optional),\nmerchantTransactionId (string, optional),\nmerchantReferenceId (string, optional),\ntransactionState (string, optional) = ['INITIATED' or 'PENDING' or 'SUCCESS' or 'FAILED'],\npaymentTransactions (Array[PaymentTransaction], optional)\n}  QueryMessage {\ntype (string, optional),\nmessage (string, optional)\n}\nPaymentTransaction {\nmerchantTransactionId (string, optional),\npaymentTransactionId (string, optional),\ntransactionAmount (long, optional),\ntransactionCurrency (string, optional),\ntransactionType (string, optional) = ['ADJUSTMENT' or 'SALE' or 'REFUND' or 'REVADJUSTMENT'],\ntransactionTime (string, optional),\nrealTransactionTime (string, optional),\ntransactionStatus (string, optional) = ['INITIATED' or 'PENDING' or 'SUCCESS' or 'FAILED'],\ntransactionAuthState (string, optional) = ['PRE_AUTH' or 'PARTIAL_CAPTURED' or 'FULL_CAPTURED' or 'CAPTURE_COMPLETED' or 'VOID' or 'FAILED' or 'SALE'],\ntransactionResponseCode (string, optional) = ['REFUND_REQUEST_ACCEPTED' or 'REFUND_REQUEST_SENT' or 'REFUNDED' or 'REFUND_VOID_SUCCESS' or 'TXNID_NOT_FOUND' or 'REFUND_NOT_SUPPORTED' or 'REFUND_WINDOW_EXPIRED' or 'SIMILAR_PREVIOUS_PARTIAL_REFUND_DETECTED' or 'SALE_TRANSACTION_UNSUCCESSFUL' or 'SALE_TRANSACTION_VOID' or 'PARTIAL_REFUNDS_UNSUPPORTED' or 'INSUFFICIENT_BALANCE' or 'DUPLICATE_REFUND_REQUEST' or 'EXCESS_REFUND_AMOUNT' or 'SALE_TRANSACTION_REFUNDED' or 'MULTIPLE_REFUNDS_UNSUPPORTED' or 'REFUND_TEMPORARILY_UNAVAILABLE' or 'VISA_DIRECT_TIMEOUT' or 'PENDING_ON_REFUND_REQUERY' or 'FAILED_ON_REFUND_REQUERY' or 'COULD_NOT_ACQUIRE_LOCK' or '_3DS_AUTH_FAILED' or '_3DS_AUTH_UNSUPPORTED' or 'ADDRESS_VERIFICATION_FAILED' or 'BANK_RESPONSE_DELAYED' or 'BIN_BLOCKED_BY_ACQUIRER' or 'CARD_EXPIRED' or 'CARD_NOT_ENROLLED' or 'CARD_NUMBER_INVALID' or 'COUNTRY_NOT_SUPPORTED' or 'CVV_INCORRECT' or 'CVV_MISSING' or 'SBI_DEBIT_CARD_BLOCKED' or 'PIN_INCORRECT' or 'CANCELLED_BY_ACQUIRER' or 'DECLINED_BY_ACQUIRER' or 'DECLINED_BY_ISSUER' or 'DECLINED_BY_RISK' or 'INSUFFICIENT_FUNDS' or 'ISSUER_TECHNICAL_ERROR' or 'EMI_NO_PG_FOR_CURRENT_AMOUNT' or 'NO_PG_FOR_CURRENT_AMOUNT' or 'UPI_EXTERNAL_VPA_UNSUPPORTED' or 'MID_NOT_ACTIVE' or 'MID_NOT_FOUND' or 'DUPLICATE_TXN_REQUEST' or 'INVALID_TRANSACTION_ID' or 'MERCHANT_AUTH_FAILED' or 'DECLINED_BY_PAYZIPPY' or 'BANK_UNAVAILABLE' or 'CARD_EXPIRY_DATE_INVALID' or 'CANCELLED_BY_USER' or 'USER_SESSION_TIMED_OUT' or 'USER_REFRESH_COUNT_EXCEEDED' or 'USER_RETRY_COUNT_EXCEEDED' or 'INVALID_PROCESSPAY_REQUEST' or 'MANDATORY_PARAM_MISSING' or 'INVALID_PARAM_FORMAT' or 'INVALID_PARAM_VALUE' or 'INVALID_PAYZIPPY_ACCOUNT' or 'NETBANKING_NOT_ENABLED' or 'NETBANKING_LIMIT_EXCEEDED' or 'ACCOUNT_ON_HOLD' or 'PAY_LATER_ELIGIBILITY_FAILURE' or 'PAYZIPPY_TECHNICAL_ERROR' or 'ACQUIRER_TECHNICAL_ERROR' or 'SUCCESS' or 'INITIATED' or 'PENDING' or 'REQUEST_FIELD_INVALID' or 'SYSTEM_UNDER_MAINTENANCE' or 'EMPTY_OTP_ERROR' or 'INTERNAL_SERVER_ERROR' or 'DATABASE_SERVER_ERROR' or 'PROTOCOL_ERROR' or 'NOT_PERMITTED' or 'CARD_NOT_IN_3DS_RANGE' or 'INVALID_AUTH_DATA' or 'INVALID_REQUEST_TYPE' or 'INVALID_REQUEST_XML_FORMAT' or 'HASH_CHECK_FAILED' or 'INVALID_MERCHANT_ID' or 'ITP_VALIDATION_FAILED' or 'INVALID_IVR_OTP_DATA' or 'TIMED_OUT' or 'UNABLE_TO_PROCESS_REQUEST' or 'INVALID_RESPONSE_XML_FORMAT' or 'CARD_BLOCKS' or 'OPEN_ECS_NACH_MANDATE' or 'DDF_DEALER' or 'CARD_OFFER_EXHAUSTED' or 'CHECK_SUM_MISMATCH'],\nrefundResponseCode (string, optional) = ['SUCCESS' or 'REFUND_REQUEST_ACCEPTED' or 'REFUND_REQUEST_SENT' or 'REFUNDED' or 'REFUND_VOID_SUCCESS' or 'TXNID_NOT_FOUND' or 'REFUND_NOT_SUPPORTED' or 'REFUND_WINDOW_EXPIRED' or 'SIMILAR_PREVIOUS_PARTIAL_REFUND_DETECTED' or 'SALE_TRANSACTION_UNSUCCESSFUL' or 'SALE_TRANSACTION_VOID' or 'PARTIAL_REFUNDS_UNSUPPORTED' or 'INSUFFICIENT_BALANCE' or 'DUPLICATE_REFUND_REQUEST' or 'EXCESS_REFUND_AMOUNT' or 'SALE_TRANSACTION_REFUNDED' or 'MULTIPLE_REFUNDS_UNSUPPORTED' or 'PAYZIPPY_TECHNICAL_ERROR' or 'ACQUIRER_TECHNICAL_ERROR' or 'REFUND_TEMPORARILY_UNAVAILABLE' or 'VISA_DIRECT_TIMEOUT' or 'PENDING_ON_REFUND_REQUERY' or 'FAILED_ON_REFUND_REQUERY' or 'COULD_NOT_ACQUIRE_LOCK' or 'UPI_EXTERNAL_VPA_UNSUPPORTED'],\ntransactionResponseMessage (string, optional),\nbankArn (string, optional),\nrefundSla (RefundSla, optional),\npaymentMethod (string, optional) = ['CREDIT' or 'DEBIT' or 'EMI' or 'NET' or 'PAYZIPPY' or 'NET_OPTIONS' or 'EMI_OPTIONS' or 'PHONEPE' or 'FLIPKART_CREDIT'],\npaymentInstrument (string, optional) = ['CREDIT' or 'DEBIT' or 'EMI' or 'NET' or 'PAYZIPPY' or 'NET_OPTIONS' or 'EMI_OPTIONS' or 'PHONEPE' or 'FLIPKART_CREDIT'],\nemiMonths (long, optional),\nbankName (string, optional),\nemiScheme (EmiScheme, optional),\nfraudAction (string, optional),\nfraudDecision (string, optional),\nfraudDetails (string, optional),\nfraudSource (string, optional),\npgMID (string, optional),\npgTrackId (string, optional),\npgId (string, optional),\npgName (string, optional),\nbankTransactionId (string, optional),\nterminalId (string, optional),\npgAuthCode (string, optional),\naccountType (string, optional),\nsubventionPercentage (long, optional),\ncardBrand (string, optional) = ['VISA' or 'MASTERCARD' or 'AMEX' or 'MAESTRO' or 'DINERS' or 'RUPAY' or 'DEFAULT' or 'DISCOVER' or 'BAJAJ'],\ncardBin (string, optional),\norderId (string, optional),\nrelatedRecords (Array[RelatedRecord], optional),\nprimaryAmount (long, optional),\nmerchantAdjustments (Array[MerchantAdjustment], optional),\nqueryTransactionStatus (string, optional),\nmetadata (string, optional),\nsaleTransactionId (string, optional),\nconfirmedFraud (boolean, optional),\ninternational (boolean, optional),\nriskyInstrument (boolean, optional)\n}\nRefundSla {\nminSla (long, optional),\nmaxSla (long, optional)\n}\nEmiScheme {\nemiTenureInMonths (long, optional),\ninterestValue (long, optional),\ninterestType (string, optional)\n}\nRelatedRecord {\nadjustmentTransactionId (string, optional),\nrelation (string, optional),\nadjustmentId (string, optional),\nadjustmentAmount (long, optional)\n}\nMerchantAdjustment {\ntransactionId (string, optional),\nofferId (string, optional),\nofferUnitPrice (long, optional),\namountApplied (long, optional),\namountRequested (long, optional),\npromiseDate (string, optional),\nactualSubventionAmount (long, optional),\neffectiveSubventionAmount (long, optional),\nadjustmentResponseCode (string, optional) = ['EXPIRED' or 'INVALID' or 'FAILED_BY_TIME' or 'REJECTED_BY_WHITELIST' or 'REJECTED_BY_BLACKLIST' or 'REJECTED_BY_RULE' or 'REJECTED_LOW_PRIORITY' or 'EXHAUSTED_BY_TXNID' or 'EXHAUSTED_BY_EMAIL' or 'EXHAUSTED_BY_ACCOUNT' or 'EXHAUSTED_BY_PHONE' or 'EXHAUSTED_BY_IP' or 'EXHAUSTED_BY_ACCID' or 'EXHAUSTED_BY_MID' or 'EXHAUSTED_GLOBAL' or 'EXHAUSTED_BY_CARD' or 'MISSING_PAYMENT_INFO' or 'ELIGIBLE' or 'NOT_ELIGIBLE' or 'OFFER_NOT_APPLIED' or 'REJECTED_DUE_TO_PAYMENT_WARNING'],\nadjustmentType (string, optional) = ['INSTANT_DISCOUNT' or 'CASHBACK_ON_CARD' or 'CASHBACK_IN_BANK' or 'CASHBACK_IN_WALLET' or 'INSTANT_CASHBACK' or 'DOWN_PAYMENT'],\nmetadata (object, optional)\n}\nSample Request\n{\n  \"merchantCredential\": {\n    \"name\": \"Enter name here\",\n    \"password\": \"Enter hash here\"\n  },\n  \"forcePgQuery\": true,\n  \"merchantTransactionId\": \"transaction1\",\n  \"paymentTransactionId\": \"PZT1712211056FQM0400\"\n}", 
            "title": "Query"
        }, 
        {
            "location": "/backend/#refund", 
            "text": "Path: 1/payment/query  Method: POST\nBody: RefundRequest \nRefundRequest {\nmerchantCredential(MerchantCredential),\nmerchantTransactionId (string),\npayzippySaleTrasactionId (string),\nrefundAmount (long),\nrefundReason (string),\nrefundedBy (string),\nmerchantRefundTransactionId(string, optional),\nidempotencyId (string, optional),\nmetadata (string, optional)\n}\nMerchantCredential {\nname (string),\npassword (string)\n}\nResponse : RefundResponse\nRefundResponse {\nbankArn (string, optional),\npgMID (string, optional),\npgTrackId (string, optional),\npgId (string, optional),\npgName (string, optional),\nbankTransactionId (string, optional),\nterminalId (string, optional),\ncardBrand (string, optional) = ['VISA' or 'MASTERCARD' or 'AMEX' or 'MAESTRO' or 'DINERS' or 'RUPAY' or 'DEFAULT' or 'DISCOVER' or 'BAJAJ'],\ncardBin (string, optional),\nadjustmentTransactionIds (string, optional),\nadjustmentRelations (string, optional),\nadjustmentIds (string, optional),\nadjustmentAmounts (string, optional),\nrefundAmount (long, optional),\nmerchantTransactionId (string, optional),\npayzippyTransactionId (string, optional),\nrefundCurrency (string, optional),\ntransactionTime (long, optional),\nrefundSla (RefundSla, optional),\nrefundStatus (string, optional) = ['REFUND_REQUEST_RECEIVED' or 'REFUND_REQUEST_SUBMITTED' or 'SUCCESS' or 'FAILED' or 'REFUNDED' or 'PENDING'],\nrefundResponseCode (string, optional) = ['SUCCESS' or 'REFUND_REQUEST_ACCEPTED' or 'REFUND_REQUEST_SENT' or 'REFUNDED' or 'REFUND_VOID_SUCCESS' or 'TXNID_NOT_FOUND' or 'REFUND_NOT_SUPPORTED' or 'REFUND_WINDOW_EXPIRED' or 'SIMILAR_PREVIOUS_PARTIAL_REFUND_DETECTED' or 'SALE_TRANSACTION_UNSUCCESSFUL' or 'SALE_TRANSACTION_VOID' or 'PARTIAL_REFUNDS_UNSUPPORTED' or 'INSUFFICIENT_BALANCE' or 'DUPLICATE_REFUND_REQUEST' or 'EXCESS_REFUND_AMOUNT' or 'SALE_TRANSACTION_REFUNDED' or 'MULTIPLE_REFUNDS_UNSUPPORTED' or 'PAYZIPPY_TECHNICAL_ERROR' or 'ACQUIRER_TECHNICAL_ERROR' or 'REFUND_TEMPORARILY_UNAVAILABLE' or 'VISA_DIRECT_TIMEOUT' or 'PENDING_ON_REFUND_REQUERY' or 'FAILED_ON_REFUND_REQUERY' or 'COULD_NOT_ACQUIRE_LOCK' or 'UPI_EXTERNAL_VPA_UNSUPPORTED'],\nrefundResponseMessage (string, optional),\nmetaData (string, optional)\n}\nRefundSla {\nminSla (long, optional),\nmaxSla (long, optional)\n}\nSample Request\n{\n  \"merchantCredential\": {\n    \"name\": \"Enter name here\",\n    \"password\": \"Enter hash here\"\n  },\n  \"merchantTransactionId\": \"transaction1\",\n  \"payzippySaleTrasactionId\": \"PZT1712211056FQM0400\",\n  \"refundAmount\": 100,\n  \"refundReason\": \"testing\",\n  \"refundedBy\": \"Anvay\",\n  \"merchantRefundTransactionId\": \"transaction1-refund1\"\n}", 
            "title": "Refund"
        }, 
        {
            "location": "/backend/#oms", 
            "text": "", 
            "title": "OMS"
        }, 
        {
            "location": "/backend/#oms-insert", 
            "text": "Path: /1/oms/insert\nMethod: POST\nBody: RefundRequest \nOMSPayload {\norderId (string),\nimageUrl (string),\ndescription (string),\namount (double),\ndisbursalText (string),\nsecondaryDisbursalText (string),\nidentityToken (string),\nstate (string) ['INITIATED' or 'SUCCESSFUL' or 'FAILED'],\nitems (Array[OMSItem]),\noffers (Array[OMSOffers], optional),\ntimestamp (long)\n}\nOMSItem {\nitemId (string),\ntitle (string),\namount (long),\ncategory (string)\n}\nOMSOffers {\nofferId (string),\ntitle (string),\nsource (string)\n}\nResponse: String  Sample Request\n{\n    \"orderId\":\"dummyOrder1\",\n    \"imageUrl\": \"http://www.google.com/img/test\",\n    \"description\":\"This is an order id\",\n    \"amount\": 220.14,\n    \"disbursalText\":\"You order has been recharged\",\n    \"secondaryDisbursalText\":\"Recharge is already done, Go get a life\",\n    \"identityToken\":\"IDTKNE4783BAFB3B54713A46EC4B9EB5D59DEKNG\",\n    \"state\":\"DUMMY\",\n    \"timestamp\": 1523960011000,\n    \"items\": [\n        {\n            \"itemId\" : \"dummyItemId1\",\n            \"title\" : \"This is the recharge product you just purchased\",\n            \"amount\" : 220.14,\n            \"category\" : \"recharge\"\n        }\n    ],\n    \"offers\": [\n        {\n            \"offerId\" : \"dummyOfferId\",\n            \"title\" : \"Get everything for free\",\n            \"source\" : \"merchant\"\n        }\n    ]\n}", 
            "title": "OMS Insert"
        }, 
        {
            "location": "/backend/#oms-state-update", 
            "text": "Path: /1/oms/update/state\nMethod: PUT\nQuery: \norderId : String\nstate : String  ['INITIATED' or 'SUCCESSFUL' or 'FAILED']", 
            "title": "OMS State update"
        }, 
        {
            "location": "/backend/#oms-refund", 
            "text": "Path: /1/oms/create/refund\nMethod: PUT\nBody: \nRefundPayload {\norderId (string),\ntransactionId (string),\namount (double),\nsource (string),\ntitle (string),\nrefundId (string)\n}  Sample Request\n{\n    \"orderId\" : \"dummyOrder1\",\n    \"transactionId\" : \"dummyRefundTransactionId\",\n    \"amount\" : 20.12,\n    \"source\" : \"merchant\",\n    \"title\" : \"Refund because merchant says so\",\n    \"refundId\" : \"dummyRefundId\"\n}", 
            "title": "OMS Refund"
        }, 
        {
            "location": "/backend/#security", 
            "text": "All production endpoints will be over https.\nWe will validate Client\u2019s identity using JWT.\nThe JWT will be shared in every call in header as a \u2018secureToken\u2019  Properties of secure token\nAlgorithm RS256\nFields to be present in payload\niss -  Issuer -  which is equal to clientId\niat -  Issued At -  Timestamp with seconds resolution when the token was generate. This will fail if in future.\nexp -  Expiry At -  Timestamp with seconds resolution when the token expires. exp-iat should not be more than 1000\nThe Public key should be shared with flipkart before hand.", 
            "title": "Security"
        }, 
        {
            "location": "/backend/#test-endpoint-for-secure-token", 
            "text": "Path: /1/dummy\nMethod: GET\nHeader: secureToken\nResponse:  Will be HTTP 200 if secureToken is valid otherwise response code will be self explanatory.", 
            "title": "Test endpoint for secure token"
        }
    ]
}