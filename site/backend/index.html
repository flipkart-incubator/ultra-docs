



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for building apps on Flipkart Ultra platform">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.7.3">
    
    
      
        <title>Basic APIs - Ultra documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#ultra-backend-apis" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Ultra documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Ultra documentation
              </span>
              <span class="md-header-nav__topic">
                Basic APIs
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Ultra documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tutorial/" title="Tutorial" class="md-nav__link">
      Tutorial
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../onboarding/" title="Onboarding" class="md-nav__link">
      Onboarding
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../flows/" title="Flow diagrams" class="md-nav__link">
      Flow diagrams
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../clients/" title="Client Side API" class="md-nav__link">
      Client Side API
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Server Side API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Server Side API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Basic APIs
      </label>
    
    <a href="./" title="Basic APIs" class="md-nav__link md-nav__link--active">
      Basic APIs
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#endpoint-contracts" title="Endpoint Contracts" class="md-nav__link">
    Endpoint Contracts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" title="Security" class="md-nav__link">
    Security
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#header" title="Header" class="md-nav__link">
    Header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payload" title="Payload" class="md-nav__link">
    Payload
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-token-flow" title="Access token flow" class="md-nav__link">
    Access token flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-fetching-flow" title="Resource fetching flow" class="md-nav__link">
    Resource fetching flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payment-flow" title="Payment flow." class="md-nav__link">
    Payment flow.
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#payment-token" title="Payment Token" class="md-nav__link">
    Payment Token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callback-after-pgresponse" title="Callback after PGResponse" class="md-nav__link">
    Callback after PGResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query" title="Query" class="md-nav__link">
    Query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refund" title="Refund" class="md-nav__link">
    Refund
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oms" title="OMS" class="md-nav__link">
    OMS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#oms-upsert" title="OMS Upsert" class="md-nav__link">
    OMS Upsert
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#offers" title="Offers" class="md-nav__link">
    Offers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-offers-list" title="Get offers list" class="md-nav__link">
    Get offers list
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../oms/" title="OMS" class="md-nav__link">
      OMS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../demo/" title="Demo" class="md-nav__link">
      Demo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contact/" title="Contact Us" class="md-nav__link">
      Contact Us
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Announcements
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Announcements
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../announcement/" title="All Announcements" class="md-nav__link">
      All Announcements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../migrating-clientid/" title="Migrating ClientId" class="md-nav__link">
      Migrating ClientId
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#endpoint-contracts" title="Endpoint Contracts" class="md-nav__link">
    Endpoint Contracts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" title="Security" class="md-nav__link">
    Security
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#header" title="Header" class="md-nav__link">
    Header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payload" title="Payload" class="md-nav__link">
    Payload
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-token-flow" title="Access token flow" class="md-nav__link">
    Access token flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-fetching-flow" title="Resource fetching flow" class="md-nav__link">
    Resource fetching flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payment-flow" title="Payment flow." class="md-nav__link">
    Payment flow.
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#payment-token" title="Payment Token" class="md-nav__link">
    Payment Token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callback-after-pgresponse" title="Callback after PGResponse" class="md-nav__link">
    Callback after PGResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query" title="Query" class="md-nav__link">
    Query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refund" title="Refund" class="md-nav__link">
    Refund
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oms" title="OMS" class="md-nav__link">
    OMS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#oms-upsert" title="OMS Upsert" class="md-nav__link">
    OMS Upsert
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#offers" title="Offers" class="md-nav__link">
    Offers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-offers-list" title="Get offers list" class="md-nav__link">
    Get offers list
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="ultra-backend-apis">Ultra Backend APIs</h1>
<h2 id="endpoint-contracts">Endpoint Contracts</h2>
<p>Prod endpoint: <code>https://platform.flipkart.net</code></p>
<blockquote>
<p>There is no staging endpoint for Ultra. You can do all development on Prod endpoint.</p>
</blockquote>
<h2 id="security">Security</h2>
<p>All production endpoints will be over https.
We will validate Client’s identity using JWT.
The JWT will be shared in every call in header as a ‘secureToken’
Properties of secure token</p>
<h3 id="header">Header</h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>{
  &quot;alg&quot;: &quot;RS256&quot;,
  &quot;typ&quot;: &quot;JWT&quot;
}
</pre></div>
</td></tr></table>

<h3 id="payload">Payload</h3>
<p>'Note:' clientId should be fetched from flipkart.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>{
  &quot;iss&quot;: &lt;clientId&gt;,
  &quot;iat&quot;: &lt;unix timestamp in seconds&gt;, // Issued at. Should be in past.
  &quot;exp&quot;: &lt;unix timestamp in seconds&gt; // Expiry of token. Should be in future. Also exp - iat should not be &gt; 100.
}
</pre></div>
</td></tr></table>

<p>The Public key should be shared with flipkart before hand.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Path: /1/dummy
Method: GET
Header: secureToken
Response:  Will be HTTP 200 if secureToken is valid otherwise response code will be self explanatory.
</pre></div>
</td></tr></table>

<h2 id="access-token-flow">Access token flow</h2>
<p>Using the grantToken from the SDK, you have to fetch the accessToken before querying for any resources.
Get Auth token flow</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Path: /1/authorization/auth

Method: GET

Query parameters:
grantToken : String
clientId : String
clientSecret : String

Response :
AuthTokenResponse {
identityToken (string),
accessToken (string)
}
</pre></div>
</td></tr></table>

<h2 id="resource-fetching-flow">Resource fetching flow</h2>
<p>Resources like user.mobile, user.email can be fetched with this API
fetch bulk data</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Path: /1/resource/bulk

Method: POST
Query parameters:
accessToken : String
Body: List&lt;String&gt; //where each string is scope for which data is to be fetched.
Response : Map&lt;String,Object&gt; // String the scope and Object for each scope is defined below
user.mobile{
email(string)
isVerified(boolean)
}
user.email{
mobileNumber(string)
isVerified(boolean)
}
</pre></div>
</td></tr></table>

<h2 id="payment-flow">Payment flow.</h2>
<p>This section describes FKPG (Flipkart payment gateway) APIs which can be used to initiate payments and for receiving refunds.
Contact Flipkart team to get the merchant credentials required to access this API. The merchant credentials are different from <code>clientId</code> and <code>secret</code> used for Ultra APIs</p>
<h3 id="payment-token">Payment Token</h3>
<p>This is the first step in initiating payments. Use this API to generate a payment token which can be used to show the FKPG payment options screen, this screen can be shown via Ultra's client SDK. This will open FKPG outside of Ultra container.</p>
<p><code>Note</code>: Category should be fetched from flipkart.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Path</span><span class="o">:</span> <span class="mi">2</span><span class="sr">/payment/</span><span class="n">token</span>

<span class="n">Method</span><span class="o">:</span> <span class="n">POST</span>
<span class="n">Body</span><span class="o">:</span> <span class="n">PaymentTokenRequest</span>
<span class="n">PaymentTokenRequest</span> <span class="o">{</span>
<span class="n">merchantCredential</span><span class="o">(</span><span class="n">MerchantCredential</span><span class="o">),</span>
<span class="n">amountPaise</span> <span class="o">(</span><span class="n">long</span><span class="o">),</span>
<span class="n">category</span><span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">paymentExpiryMilliSeconds</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">userInfo</span> <span class="o">(</span><span class="n">UserInfo</span><span class="o">),</span>
<span class="n">adjustmentWrapper</span><span class="o">(</span><span class="n">AdjustmentWrapper</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">priceSummary</span> <span class="o">(</span><span class="n">PriceSummary</span><span class="o">),</span>
<span class="n">successfulCallBackUrl</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">failureCallBackUrl</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">address</span> <span class="o">(</span><span class="n">Address</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">description</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">metadata</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">merchantTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">merchantReferenceId</span> <span class="o">(</span><span class="n">string</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">MerchantCredential</span> <span class="o">{</span>
<span class="n">name</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">password</span> <span class="o">(</span><span class="n">string</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">UserInfo</span> <span class="o">{</span>
<span class="n">name</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">phone</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">email</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">identityToken</span> <span class="o">(</span><span class="n">string</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">AdjustmentWrapper</span> <span class="o">{</span>
<span class="n">eligibleAdjustments</span><span class="o">(</span><span class="n">Array</span><span class="o">[</span><span class="n">EligibleAdjustment</span><span class="o">],</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">EligibleAdjustment</span> <span class="o">{</span>
<span class="n">adjustment_id</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">offerUnitPrice</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">metadata</span> <span class="o">(</span><span class="n">object</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">PriceSummary</span> <span class="o">{</span>
<span class="n">basePricePaise</span> <span class="o">(</span><span class="n">long</span><span class="o">),</span>
<span class="n">itemCount</span> <span class="o">(</span><span class="n">integer</span><span class="o">),</span>
<span class="n">breakup</span><span class="o">(</span><span class="n">Array</span><span class="o">[</span><span class="n">PriceSummaryBreakup</span><span class="o">])</span>
<span class="o">}</span>
<span class="n">PriceSummaryBreakup</span> <span class="o">{</span>
<span class="n">description</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">displayText</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">valueInPaise</span> <span class="o">(</span><span class="n">long</span><span class="o">),</span>
<span class="n">breakupType</span> <span class="o">(</span><span class="n">string</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;DEFAULT&#39;</span> <span class="n">or</span> <span class="s1">&#39;DISCOUNT&#39;</span><span class="o">]</span>
<span class="o">}</span>
<span class="n">Address</span> <span class="o">{</span>
<span class="n">addressLine</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">city</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">state</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pincode</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">country</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">Response</span> <span class="o">:</span> <span class="n">PaymentToken</span>
<span class="n">PaymentToken</span> <span class="o">{</span>
<span class="n">token</span> <span class="o">(</span><span class="n">string</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Sample Request
{
  &quot;merchantCredential&quot;: {
    &quot;name&quot;: &quot;Enter name here&quot;,
    &quot;password&quot;: &quot;Enter hash here&quot;
  },
  &quot;merchantTransactionId&quot;: &quot;transaction1&quot;,
  &quot;merchantReferenceId&quot;: &quot;order1&quot;,
  &quot;amountPaise&quot;: 200,
  &quot;paymentExpiryMilliSeconds&quot;: 100000,
  &quot;category&quot;: &quot;test&quot;,
  &quot;userInfo&quot;: {
    &quot;identityToken&quot;: &quot;Actual ID token here&quot;
  },
  &quot;successfulCallBackUrl&quot;: &quot;http://www.partner.com/success&quot;,
  &quot;failureCallBackUrl&quot;: &quot;http://www.partner.com/failure&quot;,
  &quot;description&quot;: &quot;this is a test transaction&quot;,
  &quot;metadata&quot;: &quot;this is a test transaction&quot;,
  &quot;priceSummary&quot;: {
    &quot;basePricePaise&quot;: 100,
    &quot;itemCount&quot;: 0,
    &quot;breakup&quot;: [
      {
        &quot;description&quot;: &quot;convinience_fee&quot;,
        &quot;displayText&quot;: &quot;Convinence Fee&quot;,
        &quot;valueInPaise&quot;: 100,
        &quot;breakupType&quot;: &quot;DEFAULT&quot;
      }
    ]
  }
}
</pre></div>
</td></tr></table>

<h3 id="callback-after-pgresponse">Callback after PGResponse</h3>
<p>Once a user pays, a <code>POST</code> call is made to the <code>successfulCallBackUrl</code> specified in payment token request. The payload of the FORM data is present below.
You can then issue a HTTP redirect to the <code>fapp:</code> URL to redirect back to ultra container and also specify the order confirmation page url to open in the same format.
This will open your order confirmation page within ultra container (payment happens outside of it). Its mandatory to redirect to ultra container via <code>fapp:</code>. Do not open any UI outside of ultra container.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Request (will be sent as form parameters)

{
      &quot;transaction_status&quot;: &quot;&quot;, //  SUCCESS, FAILED
      &quot;account_type&quot;: &quot;NODAL&quot;,
      &quot;pg_trackid&quot;: &quot;&quot;,     
      &quot;merchant_adjustments&quot;:
      &quot;[
      {&quot;offer_id&quot;:&quot;&quot;,
      &quot;offer_unit_price&quot;:0,
      &quot;amount_applied&quot;:0,
      &quot;amount_requested&quot;:0,
      &quot;actual_subvention_amount&quot;:0,
      &quot;effective_subvention_amount&quot;:0,
      &quot;Adjustment_response_code&quot;: AdjustmentResponseCode,   //  Appendix
      &quot;metadata&quot;:{&quot;paymentSystem&quot;:&quot;&quot;, &quot;offerId&quot;:&quot;&quot;, &quot;discountType&quot;:&quot;&quot;}}
      ]&quot;,
      &quot;transaction_amount&quot;: &quot;&quot;,
      &quot;emi_months&quot;: &quot;&quot;,
      &quot;merchant_id&quot;: &quot;&quot;,
      &quot;transaction_response_code&quot;: &quot;&quot;,      //  Appendix
      &quot;payzippy_transaction_id&quot;: &quot;&quot;,
      &quot;having_multiple_transactions&quot;: &quot;&quot;,
      &quot;bank_name&quot;: &quot;&quot;,
      &quot;card_brand&quot;: CardName,   //  Appendix
      &quot;hash_method&quot;: &quot;&quot;,
      &quot;transaction_time&quot;: &quot;&quot;,
      &quot;transaction_currency&quot;: &quot;&quot;,
      &quot;payment_method&quot;: &quot;&quot;,     //  Appendix
      &quot;timestamp&quot;: &quot;&quot;,
      &quot;merchant_key_id&quot;: &quot;&quot;,
      &quot;primary_record&quot;:
      &quot;{&quot;transaction_id&quot;: &quot;&quot;, &quot;primary_amount&quot;: &quot;&quot;}&quot;,
      &quot;merchant_transaction_id&quot;: &quot;&quot;,
      &quot;bank_transaction_id&quot;: &quot;&quot;,
      &quot;payment_instrument&quot;: &quot;&quot;,
      &quot;transaction_response_message&quot;: &quot;&quot;,
      &quot;pg_mid&quot;: &quot;&quot;,
      &quot;pg_name&quot;: &quot;&quot;,
      &quot;pg_authcode&quot;: &quot;&quot;,
      &quot;pg_id&quot;: &quot;&quot;,
      &quot;is_international&quot;: &quot;&quot;,
      &quot;fraud_action&quot;: &quot;&quot;,
      &quot;is_risky_instrument&quot;: &quot;&quot;,
      &quot;transaction_auth_state&quot;: &quot;&quot;,
      &quot;hash&quot;: &quot;&quot;,
      &quot;masked_card_number&quot;: &quot;&quot;,
&quot;card_bin&quot;: &quot;&quot;,
}
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Form Data

transaction_status=&quot;&quot;&amp;account_type=&quot;&quot;&amp;pg_trackid=&quot;&quot;&amp;merchant_adjustments=[ {&#39;offer_id&#39;:&#39;&#39;, &#39;offer_unit_price&#39;:0, &#39;amount_applied&#39;:0, &#39;amount_requested&#39;:0, &#39;actual_subvention_amount&#39;:0, &#39;effective_subvention_amount&#39;:0, ent_response_code&#39;:&#39;&#39;, &#39;metadata&#39;:{&#39;paymentSystem&#39;:&#39;&#39;, &#39;offerId&#39;:&#39;&#39;, &#39;discountType&#39;:&#39;&#39;}} ]transaction_amount=&quot;&quot;&amp;emi_months=&quot;&quot;&amp;merchant_id=&quot;&quot;&amp;transaction_response_code=&quot;&quot;&amp;payzippy_transaction_id=&quot;&quot;&amp;having_multiple_transactions=&quot;&quot;&amp;bank_name=&quot;&quot;&amp;card_brand=&quot;&quot;&amp;hash_method=&quot;&quot;&amp;transaction_time=&quot;&quot;&amp;transaction_currency=&quot;&quot;&amp;payment_method=&quot;&quot;&amp;timestamp=&quot;&quot;&amp;merchant_key_id=&quot;&quot;&amp;primary_record={&#39;transaction_id&#39;: &#39;&#39;, &#39;primary_amount&#39;: &#39;&#39;}merchant_transaction_id=&quot;&quot;&amp;bank_transaction_id=&quot;&quot;&amp;payment_instrument=&quot;&quot;&amp;transaction_response_message=&quot;&quot;&amp;pg_mid=&quot;&quot;&amp;pg_name=&quot;&quot;&amp;pg_authcode=&quot;&quot;&amp;pg_id=&quot;&quot;&amp;is_international=&quot;&quot;&amp;fraud_action=&quot;&quot;&amp;is_risky_instrument=&quot;&quot;&amp;transaction_auth_state=&quot;&quot;&amp;hash=&quot;&quot;&amp;masked_card_number=&quot;&quot;&amp;transaction_status=&quot;&quot;&amp;account_type=&quot;&quot;&amp;pg_trackid=&quot;&quot;&amp;merchant_adjustments=&quot;&quot;&amp;transaction_amount=&quot;&quot;&amp;emi_months=&quot;&quot;&amp;merchant_id=&quot;&quot;&amp;transaction_response_code=&quot;&quot;&amp;payzippy_transaction_id=&quot;&quot;&amp;having_multiple_transactions=&quot;&quot;&amp;bank_name=&quot;&quot;&amp;card_brand=&quot;&quot;&amp;hash_method=&quot;&quot;&amp;transaction_time=&quot;&quot;&amp;transaction_currency=&quot;&quot;&amp;payment_method=&quot;&quot;&amp;timestamp=&quot;&quot;&amp;merchant_key_id=&quot;&quot;&amp;primary_record=&quot;&quot;&amp;merchant_transaction_id=&quot;&quot;&amp;bank_transaction_id=&quot;&quot;&amp;payment_instrument=&quot;&quot;&amp;transaction_response_message=&quot;&quot;&amp;pg_mid=&quot;&quot;&amp;pg_name=&quot;&quot;&amp;pg_authcode=&quot;&quot;&amp;pg_id=&quot;&quot;&amp;is_international=&quot;&quot;&amp;fraud_action=&quot;&quot;&amp;is_risky_instrument=&quot;&quot;&amp;transaction_auth_state=&quot;&quot;&amp;hash=&quot;&quot;&amp;masked_card_number=&quot;&quot;
</pre></div>
</td></tr></table>

<h3 id="query">Query</h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Path</span><span class="o">:</span> <span class="mi">2</span><span class="sr">/payment/</span><span class="n">query</span>

<span class="n">Method</span><span class="o">:</span> <span class="n">POST</span>
<span class="n">Body</span><span class="o">:</span> <span class="n">QueryRequest</span>
<span class="n">QueryRequest</span> <span class="o">{</span>
<span class="n">merchantCredential</span><span class="o">(</span><span class="n">MerchantCredential</span><span class="o">),</span>
<span class="n">forcePgQuery</span> <span class="o">(</span><span class="n">boolean</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">merchantTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">paymentTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">transactionType</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;ADJUSTMENT&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND&#39;</span> <span class="n">or</span> <span class="s1">&#39;REVADJUSTMENT&#39;</span><span class="o">]</span>
<span class="o">}</span>
<span class="n">MerchantCredential</span> <span class="o">{</span>
<span class="n">name</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">password</span> <span class="o">(</span><span class="n">string</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">Response</span> <span class="o">:</span> <span class="n">QueryResponse</span>
 <span class="n">QueryResponse</span> <span class="o">{</span>
<span class="n">responseStatus</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;FAILED&#39;</span><span class="o">],</span>
<span class="n">responseType</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">responseMessage</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">messages</span> <span class="o">(</span><span class="n">Array</span><span class="o">[</span><span class="n">QueryMessage</span><span class="o">],</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">merchantId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">merchantTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">merchantReferenceId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">transactionState</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;INITIATED&#39;</span> <span class="n">or</span> <span class="s1">&#39;PENDING&#39;</span> <span class="n">or</span> <span class="s1">&#39;SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;FAILED&#39;</span><span class="o">],</span>
<span class="n">paymentTransactions</span> <span class="o">(</span><span class="n">Array</span><span class="o">[</span><span class="n">PaymentTransaction</span><span class="o">],</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>

<span class="n">QueryMessage</span> <span class="o">{</span>
<span class="n">type</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">message</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">PaymentTransaction</span> <span class="o">{</span>
<span class="n">merchantTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">paymentTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">transactionAmount</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">transactionCurrency</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">transactionType</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;ADJUSTMENT&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND&#39;</span> <span class="n">or</span> <span class="s1">&#39;REVADJUSTMENT&#39;</span><span class="o">],</span>
<span class="n">transactionTime</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">realTransactionTime</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">transactionStatus</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;INITIATED&#39;</span> <span class="n">or</span> <span class="s1">&#39;PENDING&#39;</span> <span class="n">or</span> <span class="s1">&#39;SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;FAILED&#39;</span><span class="o">],</span>
<span class="n">transactionAuthState</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;PRE_AUTH&#39;</span> <span class="n">or</span> <span class="s1">&#39;PARTIAL_CAPTURED&#39;</span> <span class="n">or</span> <span class="s1">&#39;FULL_CAPTURED&#39;</span> <span class="n">or</span> <span class="s1">&#39;CAPTURE_COMPLETED&#39;</span> <span class="n">or</span> <span class="s1">&#39;VOID&#39;</span> <span class="n">or</span> <span class="s1">&#39;FAILED&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE&#39;</span><span class="o">],</span>
<span class="n">transactionResponseCode</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;REFUND_REQUEST_ACCEPTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_REQUEST_SENT&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUNDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_VOID_SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;TXNID_NOT_FOUND&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_NOT_SUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_WINDOW_EXPIRED&#39;</span> <span class="n">or</span> <span class="s1">&#39;SIMILAR_PREVIOUS_PARTIAL_REFUND_DETECTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE_TRANSACTION_UNSUCCESSFUL&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE_TRANSACTION_VOID&#39;</span> <span class="n">or</span> <span class="s1">&#39;PARTIAL_REFUNDS_UNSUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;INSUFFICIENT_BALANCE&#39;</span> <span class="n">or</span> <span class="s1">&#39;DUPLICATE_REFUND_REQUEST&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXCESS_REFUND_AMOUNT&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE_TRANSACTION_REFUNDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;MULTIPLE_REFUNDS_UNSUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_TEMPORARILY_UNAVAILABLE&#39;</span> <span class="n">or</span> <span class="s1">&#39;VISA_DIRECT_TIMEOUT&#39;</span> <span class="n">or</span> <span class="s1">&#39;PENDING_ON_REFUND_REQUERY&#39;</span> <span class="n">or</span> <span class="s1">&#39;FAILED_ON_REFUND_REQUERY&#39;</span> <span class="n">or</span> <span class="s1">&#39;COULD_NOT_ACQUIRE_LOCK&#39;</span> <span class="n">or</span> <span class="s1">&#39;_3DS_AUTH_FAILED&#39;</span> <span class="n">or</span> <span class="s1">&#39;_3DS_AUTH_UNSUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;ADDRESS_VERIFICATION_FAILED&#39;</span> <span class="n">or</span> <span class="s1">&#39;BANK_RESPONSE_DELAYED&#39;</span> <span class="n">or</span> <span class="s1">&#39;BIN_BLOCKED_BY_ACQUIRER&#39;</span> <span class="n">or</span> <span class="s1">&#39;CARD_EXPIRED&#39;</span> <span class="n">or</span> <span class="s1">&#39;CARD_NOT_ENROLLED&#39;</span> <span class="n">or</span> <span class="s1">&#39;CARD_NUMBER_INVALID&#39;</span> <span class="n">or</span> <span class="s1">&#39;COUNTRY_NOT_SUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;CVV_INCORRECT&#39;</span> <span class="n">or</span> <span class="s1">&#39;CVV_MISSING&#39;</span> <span class="n">or</span> <span class="s1">&#39;SBI_DEBIT_CARD_BLOCKED&#39;</span> <span class="n">or</span> <span class="s1">&#39;PIN_INCORRECT&#39;</span> <span class="n">or</span> <span class="s1">&#39;CANCELLED_BY_ACQUIRER&#39;</span> <span class="n">or</span> <span class="s1">&#39;DECLINED_BY_ACQUIRER&#39;</span> <span class="n">or</span> <span class="s1">&#39;DECLINED_BY_ISSUER&#39;</span> <span class="n">or</span> <span class="s1">&#39;DECLINED_BY_RISK&#39;</span> <span class="n">or</span> <span class="s1">&#39;INSUFFICIENT_FUNDS&#39;</span> <span class="n">or</span> <span class="s1">&#39;ISSUER_TECHNICAL_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;EMI_NO_PG_FOR_CURRENT_AMOUNT&#39;</span> <span class="n">or</span> <span class="s1">&#39;NO_PG_FOR_CURRENT_AMOUNT&#39;</span> <span class="n">or</span> <span class="s1">&#39;UPI_EXTERNAL_VPA_UNSUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;MID_NOT_ACTIVE&#39;</span> <span class="n">or</span> <span class="s1">&#39;MID_NOT_FOUND&#39;</span> <span class="n">or</span> <span class="s1">&#39;DUPLICATE_TXN_REQUEST&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_TRANSACTION_ID&#39;</span> <span class="n">or</span> <span class="s1">&#39;MERCHANT_AUTH_FAILED&#39;</span> <span class="n">or</span> <span class="s1">&#39;DECLINED_BY_PAYZIPPY&#39;</span> <span class="n">or</span> <span class="s1">&#39;BANK_UNAVAILABLE&#39;</span> <span class="n">or</span> <span class="s1">&#39;CARD_EXPIRY_DATE_INVALID&#39;</span> <span class="n">or</span> <span class="s1">&#39;CANCELLED_BY_USER&#39;</span> <span class="n">or</span> <span class="s1">&#39;USER_SESSION_TIMED_OUT&#39;</span> <span class="n">or</span> <span class="s1">&#39;USER_REFRESH_COUNT_EXCEEDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;USER_RETRY_COUNT_EXCEEDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_PROCESSPAY_REQUEST&#39;</span> <span class="n">or</span> <span class="s1">&#39;MANDATORY_PARAM_MISSING&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_PARAM_FORMAT&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_PARAM_VALUE&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_PAYZIPPY_ACCOUNT&#39;</span> <span class="n">or</span> <span class="s1">&#39;NETBANKING_NOT_ENABLED&#39;</span> <span class="n">or</span> <span class="s1">&#39;NETBANKING_LIMIT_EXCEEDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;ACCOUNT_ON_HOLD&#39;</span> <span class="n">or</span> <span class="s1">&#39;PAY_LATER_ELIGIBILITY_FAILURE&#39;</span> <span class="n">or</span> <span class="s1">&#39;PAYZIPPY_TECHNICAL_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;ACQUIRER_TECHNICAL_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;INITIATED&#39;</span> <span class="n">or</span> <span class="s1">&#39;PENDING&#39;</span> <span class="n">or</span> <span class="s1">&#39;REQUEST_FIELD_INVALID&#39;</span> <span class="n">or</span> <span class="s1">&#39;SYSTEM_UNDER_MAINTENANCE&#39;</span> <span class="n">or</span> <span class="s1">&#39;EMPTY_OTP_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;INTERNAL_SERVER_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;DATABASE_SERVER_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;PROTOCOL_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;NOT_PERMITTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;CARD_NOT_IN_3DS_RANGE&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_AUTH_DATA&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_REQUEST_TYPE&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_REQUEST_XML_FORMAT&#39;</span> <span class="n">or</span> <span class="s1">&#39;HASH_CHECK_FAILED&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_MERCHANT_ID&#39;</span> <span class="n">or</span> <span class="s1">&#39;ITP_VALIDATION_FAILED&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_IVR_OTP_DATA&#39;</span> <span class="n">or</span> <span class="s1">&#39;TIMED_OUT&#39;</span> <span class="n">or</span> <span class="s1">&#39;UNABLE_TO_PROCESS_REQUEST&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID_RESPONSE_XML_FORMAT&#39;</span> <span class="n">or</span> <span class="s1">&#39;CARD_BLOCKS&#39;</span> <span class="n">or</span> <span class="s1">&#39;OPEN_ECS_NACH_MANDATE&#39;</span> <span class="n">or</span> <span class="s1">&#39;DDF_DEALER&#39;</span> <span class="n">or</span> <span class="s1">&#39;CARD_OFFER_EXHAUSTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;CHECK_SUM_MISMATCH&#39;</span><span class="o">],</span>
<span class="n">refundResponseCode</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_REQUEST_ACCEPTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_REQUEST_SENT&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUNDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_VOID_SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;TXNID_NOT_FOUND&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_NOT_SUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_WINDOW_EXPIRED&#39;</span> <span class="n">or</span> <span class="s1">&#39;SIMILAR_PREVIOUS_PARTIAL_REFUND_DETECTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE_TRANSACTION_UNSUCCESSFUL&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE_TRANSACTION_VOID&#39;</span> <span class="n">or</span> <span class="s1">&#39;PARTIAL_REFUNDS_UNSUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;INSUFFICIENT_BALANCE&#39;</span> <span class="n">or</span> <span class="s1">&#39;DUPLICATE_REFUND_REQUEST&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXCESS_REFUND_AMOUNT&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE_TRANSACTION_REFUNDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;MULTIPLE_REFUNDS_UNSUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;PAYZIPPY_TECHNICAL_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;ACQUIRER_TECHNICAL_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_TEMPORARILY_UNAVAILABLE&#39;</span> <span class="n">or</span> <span class="s1">&#39;VISA_DIRECT_TIMEOUT&#39;</span> <span class="n">or</span> <span class="s1">&#39;PENDING_ON_REFUND_REQUERY&#39;</span> <span class="n">or</span> <span class="s1">&#39;FAILED_ON_REFUND_REQUERY&#39;</span> <span class="n">or</span> <span class="s1">&#39;COULD_NOT_ACQUIRE_LOCK&#39;</span> <span class="n">or</span> <span class="s1">&#39;UPI_EXTERNAL_VPA_UNSUPPORTED&#39;</span><span class="o">],</span>
<span class="n">transactionResponseMessage</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">bankArn</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">refundSla</span> <span class="o">(</span><span class="n">RefundSla</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">paymentMethod</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;CREDIT&#39;</span> <span class="n">or</span> <span class="s1">&#39;DEBIT&#39;</span> <span class="n">or</span> <span class="s1">&#39;EMI&#39;</span> <span class="n">or</span> <span class="s1">&#39;NET&#39;</span> <span class="n">or</span> <span class="s1">&#39;PAYZIPPY&#39;</span> <span class="n">or</span> <span class="s1">&#39;NET_OPTIONS&#39;</span> <span class="n">or</span> <span class="s1">&#39;EMI_OPTIONS&#39;</span> <span class="n">or</span> <span class="s1">&#39;PHONEPE&#39;</span> <span class="n">or</span> <span class="s1">&#39;FLIPKART_CREDIT&#39;</span><span class="o">],</span>
<span class="n">paymentInstrument</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;CREDIT&#39;</span> <span class="n">or</span> <span class="s1">&#39;DEBIT&#39;</span> <span class="n">or</span> <span class="s1">&#39;EMI&#39;</span> <span class="n">or</span> <span class="s1">&#39;NET&#39;</span> <span class="n">or</span> <span class="s1">&#39;PAYZIPPY&#39;</span> <span class="n">or</span> <span class="s1">&#39;NET_OPTIONS&#39;</span> <span class="n">or</span> <span class="s1">&#39;EMI_OPTIONS&#39;</span> <span class="n">or</span> <span class="s1">&#39;PHONEPE&#39;</span> <span class="n">or</span> <span class="s1">&#39;FLIPKART_CREDIT&#39;</span><span class="o">],</span>
<span class="n">emiMonths</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">bankName</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">emiScheme</span> <span class="o">(</span><span class="n">EmiScheme</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">fraudAction</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">fraudDecision</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">fraudDetails</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">fraudSource</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pgMID</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pgTrackId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pgId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pgName</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">bankTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">terminalId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pgAuthCode</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">accountType</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">subventionPercentage</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">cardBrand</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;VISA&#39;</span> <span class="n">or</span> <span class="s1">&#39;MASTERCARD&#39;</span> <span class="n">or</span> <span class="s1">&#39;AMEX&#39;</span> <span class="n">or</span> <span class="s1">&#39;MAESTRO&#39;</span> <span class="n">or</span> <span class="s1">&#39;DINERS&#39;</span> <span class="n">or</span> <span class="s1">&#39;RUPAY&#39;</span> <span class="n">or</span> <span class="s1">&#39;DEFAULT&#39;</span> <span class="n">or</span> <span class="s1">&#39;DISCOVER&#39;</span> <span class="n">or</span> <span class="s1">&#39;BAJAJ&#39;</span><span class="o">],</span>
<span class="n">cardBin</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">orderId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">relatedRecords</span> <span class="o">(</span><span class="n">Array</span><span class="o">[</span><span class="n">RelatedRecord</span><span class="o">],</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">primaryAmount</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">merchantAdjustments</span> <span class="o">(</span><span class="n">Array</span><span class="o">[</span><span class="n">MerchantAdjustment</span><span class="o">],</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">queryTransactionStatus</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">metadata</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">saleTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">confirmedFraud</span> <span class="o">(</span><span class="n">boolean</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">international</span> <span class="o">(</span><span class="n">boolean</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">riskyInstrument</span> <span class="o">(</span><span class="n">boolean</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">RefundSla</span> <span class="o">{</span>
<span class="n">minSla</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">maxSla</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">EmiScheme</span> <span class="o">{</span>
<span class="n">emiTenureInMonths</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">interestValue</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">interestType</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">RelatedRecord</span> <span class="o">{</span>
<span class="n">adjustmentTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">relation</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">adjustmentId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">adjustmentAmount</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">MerchantAdjustment</span> <span class="o">{</span>
<span class="n">transactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">offerId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">offerUnitPrice</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">amountApplied</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">amountRequested</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">promiseDate</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">actualSubventionAmount</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">effectiveSubventionAmount</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">adjustmentResponseCode</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;EXPIRED&#39;</span> <span class="n">or</span> <span class="s1">&#39;INVALID&#39;</span> <span class="n">or</span> <span class="s1">&#39;FAILED_BY_TIME&#39;</span> <span class="n">or</span> <span class="s1">&#39;REJECTED_BY_WHITELIST&#39;</span> <span class="n">or</span> <span class="s1">&#39;REJECTED_BY_BLACKLIST&#39;</span> <span class="n">or</span> <span class="s1">&#39;REJECTED_BY_RULE&#39;</span> <span class="n">or</span> <span class="s1">&#39;REJECTED_LOW_PRIORITY&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXHAUSTED_BY_TXNID&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXHAUSTED_BY_EMAIL&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXHAUSTED_BY_ACCOUNT&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXHAUSTED_BY_PHONE&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXHAUSTED_BY_IP&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXHAUSTED_BY_ACCID&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXHAUSTED_BY_MID&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXHAUSTED_GLOBAL&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXHAUSTED_BY_CARD&#39;</span> <span class="n">or</span> <span class="s1">&#39;MISSING_PAYMENT_INFO&#39;</span> <span class="n">or</span> <span class="s1">&#39;ELIGIBLE&#39;</span> <span class="n">or</span> <span class="s1">&#39;NOT_ELIGIBLE&#39;</span> <span class="n">or</span> <span class="s1">&#39;OFFER_NOT_APPLIED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REJECTED_DUE_TO_PAYMENT_WARNING&#39;</span><span class="o">],</span>
<span class="n">adjustmentType</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;INSTANT_DISCOUNT&#39;</span> <span class="n">or</span> <span class="s1">&#39;CASHBACK_ON_CARD&#39;</span> <span class="n">or</span> <span class="s1">&#39;CASHBACK_IN_BANK&#39;</span> <span class="n">or</span> <span class="s1">&#39;CASHBACK_IN_WALLET&#39;</span> <span class="n">or</span> <span class="s1">&#39;INSTANT_CASHBACK&#39;</span> <span class="n">or</span> <span class="s1">&#39;DOWN_PAYMENT&#39;</span><span class="o">],</span>
<span class="n">metadata</span> <span class="o">(</span><span class="n">object</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Sample Request
{
  &quot;merchantCredential&quot;: {
    &quot;name&quot;: &quot;Enter name here&quot;,
    &quot;password&quot;: &quot;Enter hash here&quot;
  },
  &quot;forcePgQuery&quot;: true,
  &quot;merchantTransactionId&quot;: &quot;transaction1&quot;,
  &quot;paymentTransactionId&quot;: &quot;PZT1712211056FQM0400&quot;
}
</pre></div>
</td></tr></table>

<h3 id="refund">Refund</h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Path</span><span class="o">:</span> <span class="mi">2</span><span class="sr">/payment/</span><span class="n">refund</span>

<span class="n">Method</span><span class="o">:</span> <span class="n">POST</span>
<span class="n">Body</span><span class="o">:</span> <span class="n">RefundRequest</span>
<span class="n">RefundRequest</span> <span class="o">{</span>
<span class="n">merchantCredential</span><span class="o">(</span><span class="n">MerchantCredential</span><span class="o">),</span>
<span class="n">merchantTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">payzippySaleTrasactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">refundAmount</span> <span class="o">(</span><span class="n">long</span><span class="o">),</span>
<span class="n">refundReason</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">refundedBy</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">merchantRefundTransactionId</span><span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">idempotencyId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">metadata</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">MerchantCredential</span> <span class="o">{</span>
<span class="n">name</span> <span class="o">(</span><span class="n">string</span><span class="o">),</span>
<span class="n">password</span> <span class="o">(</span><span class="n">string</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">Response</span> <span class="o">:</span> <span class="n">RefundResponse</span>
<span class="n">RefundResponse</span> <span class="o">{</span>
<span class="n">bankArn</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pgMID</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pgTrackId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pgId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">pgName</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">bankTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">terminalId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">cardBrand</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;VISA&#39;</span> <span class="n">or</span> <span class="s1">&#39;MASTERCARD&#39;</span> <span class="n">or</span> <span class="s1">&#39;AMEX&#39;</span> <span class="n">or</span> <span class="s1">&#39;MAESTRO&#39;</span> <span class="n">or</span> <span class="s1">&#39;DINERS&#39;</span> <span class="n">or</span> <span class="s1">&#39;RUPAY&#39;</span> <span class="n">or</span> <span class="s1">&#39;DEFAULT&#39;</span> <span class="n">or</span> <span class="s1">&#39;DISCOVER&#39;</span> <span class="n">or</span> <span class="s1">&#39;BAJAJ&#39;</span><span class="o">],</span>
<span class="n">cardBin</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">adjustmentTransactionIds</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">adjustmentRelations</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">adjustmentIds</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">adjustmentAmounts</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">refundAmount</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">merchantTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">payzippyTransactionId</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">refundCurrency</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">transactionTime</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">refundSla</span> <span class="o">(</span><span class="n">RefundSla</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">refundStatus</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;REFUND_REQUEST_RECEIVED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_REQUEST_SUBMITTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;FAILED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUNDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;PENDING&#39;</span><span class="o">],</span>
<span class="n">refundResponseCode</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_REQUEST_ACCEPTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_REQUEST_SENT&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUNDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_VOID_SUCCESS&#39;</span> <span class="n">or</span> <span class="s1">&#39;TXNID_NOT_FOUND&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_NOT_SUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_WINDOW_EXPIRED&#39;</span> <span class="n">or</span> <span class="s1">&#39;SIMILAR_PREVIOUS_PARTIAL_REFUND_DETECTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE_TRANSACTION_UNSUCCESSFUL&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE_TRANSACTION_VOID&#39;</span> <span class="n">or</span> <span class="s1">&#39;PARTIAL_REFUNDS_UNSUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;INSUFFICIENT_BALANCE&#39;</span> <span class="n">or</span> <span class="s1">&#39;DUPLICATE_REFUND_REQUEST&#39;</span> <span class="n">or</span> <span class="s1">&#39;EXCESS_REFUND_AMOUNT&#39;</span> <span class="n">or</span> <span class="s1">&#39;SALE_TRANSACTION_REFUNDED&#39;</span> <span class="n">or</span> <span class="s1">&#39;MULTIPLE_REFUNDS_UNSUPPORTED&#39;</span> <span class="n">or</span> <span class="s1">&#39;PAYZIPPY_TECHNICAL_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;ACQUIRER_TECHNICAL_ERROR&#39;</span> <span class="n">or</span> <span class="s1">&#39;REFUND_TEMPORARILY_UNAVAILABLE&#39;</span> <span class="n">or</span> <span class="s1">&#39;VISA_DIRECT_TIMEOUT&#39;</span> <span class="n">or</span> <span class="s1">&#39;PENDING_ON_REFUND_REQUERY&#39;</span> <span class="n">or</span> <span class="s1">&#39;FAILED_ON_REFUND_REQUERY&#39;</span> <span class="n">or</span> <span class="s1">&#39;COULD_NOT_ACQUIRE_LOCK&#39;</span> <span class="n">or</span> <span class="s1">&#39;UPI_EXTERNAL_VPA_UNSUPPORTED&#39;</span><span class="o">],</span>
<span class="n">refundResponseMessage</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">metaData</span> <span class="o">(</span><span class="n">string</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">RefundSla</span> <span class="o">{</span>
<span class="n">minSla</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">),</span>
<span class="n">maxSla</span> <span class="o">(</span><span class="n">long</span><span class="o">,</span> <span class="n">optional</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Sample Request
{
  &quot;merchantCredential&quot;: {
    &quot;name&quot;: &quot;Enter name here&quot;,
    &quot;password&quot;: &quot;Enter hash here&quot;
  },
  &quot;merchantTransactionId&quot;: &quot;transaction1&quot;,
  &quot;payzippySaleTrasactionId&quot;: &quot;PZT1712211056FQM0400&quot;,
  &quot;refundAmount&quot;: 100,
  &quot;refundReason&quot;: &quot;testing&quot;,
  &quot;refundedBy&quot;: &quot;Anvay&quot;,
  &quot;merchantRefundTransactionId&quot;: &quot;transaction1-refund1&quot;
}
</pre></div>
</td></tr></table>

<h2 id="oms">OMS</h2>
<p>OMS stands for <a href="https://en.wikipedia.org/wiki/Order_management_system">Order Management System</a>. Its the system which handles post order flows and its primary job is to power the <code>My Orders</code> screen on the flipkart apps.
When your system knows that an order has got placed or updated, you can call the following API to let Flipkart OMS know about the change.
This information will be rendered on the user's <code>My orders</code> screen with all the details you provide. We will also use this information for powering our CX agents for better experience.
For a better view of OMS, to understand its purpose and to understand the meaning of every field being uploaded refer <a href="../oms/">this page</a> too</p>
<h3 id="oms-upsert">OMS Upsert</h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Path: /2/oms
Method: POST
Body:
Order {
orderId (string),
description (string),
identityToken (string),
orderTimestamp (long),
orderUpdatedTimestamp(long),
orderUrl (string),
items (Array[Item]),
forwardTransactions (Array[ForwardTransaction], optional),
reverseTransactions (Array[ReverseTransaction], optional),
merchantAdjustments (Array[MerchantAdjustment], optional),
flipkartAdjustments (Array[FlipkartAdjustment], optional),
cancellationCharges (Array[CancellationCharges], optional)
}
Item {
itemId (string),
title (string),
image (string),
basePrice (double),
finalPrice (double, optional),
category (string),
fulfillmentDate (long),
itemState (string) = [&#39;INIT&#39; or &#39;SUCCESSFUL&#39; or &#39;CANCELLED&#39; or &#39;PENDING&#39;],
brand (string),
product (string),
customerName (string),
quantity (string)
}
ForwardTransaction {
transactionId (string),
amount (double),
description (string),
timestamp (long)
}
ReverseTransaction {
forwardTransactionId (string),
reverseTransactionId (string),
amount (double),
description (string),
timestamp (long)
}
MerchantAdjustment {
adjustmentId (string),
amount (double),
title (string)
}
FlipkartAdjustment {
adjustmentId (string),
amount (double)
}
CancellationCharges {
itemId (string),
reason (string),
amount (double)
}
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Sample Request
{
  &quot;orderId&quot;: &quot;DummyOrderId&quot;,
  &quot;description&quot;: &quot;This is a dummy description&quot;,
  &quot;identityToken&quot;: &quot;someIdentityToken&quot;,
  &quot;orderTimestamp&quot;: 1530622713945,
  &quot;orderUpdatedTimestamp&quot;: 1530622713945,
  &quot;orderUrl&quot;: &quot;someURLToOrderPage&quot;,
  &quot;items&quot;: [
    {
      &quot;itemId&quot;: &quot;Product 1&quot;,
      &quot;title&quot;: &quot;This is a product&quot;,
      &quot;image&quot;: &quot;image.url&quot;,
      &quot;basePrice&quot;: 120,
      &quot;finalPrice&quot;: 100,
      &quot;category&quot;: &quot;test&quot;,
      &quot;fulfillmentDate&quot;: 1530622713946,
      &quot;itemState&quot;: &quot;SUCCESSFUL&quot;,
      &quot;brand&quot;: &quot;Some brand&quot;,
      &quot;product&quot;: &quot;modelNumber&quot;,
      &quot;customerName&quot;: &quot;Lorem Ipsum&quot;,
      &quot;quantity&quot;: 1
    },
    {
      &quot;itemId&quot;: &quot;Product 2&quot;,
      &quot;title&quot;: &quot;This is a product&quot;,
      &quot;image&quot;: &quot;image.url&quot;,
      &quot;basePrice&quot;: 120,
      &quot;finalPrice&quot;: 100,
      &quot;category&quot;: &quot;test&quot;,
      &quot;fulfillmentDate&quot;: 1530622713946,
      &quot;itemState&quot;: &quot;SUCCESSFUL&quot;,
      &quot;brand&quot;: &quot;Some brand&quot;,
      &quot;product&quot;: &quot;modelNumber&quot;,
      &quot;customerName&quot;: &quot;Lorem Ipsum 2&quot;,
      &quot;quantity&quot;: 1
    }
  ],
  &quot;forwardTransactions&quot;: [
    {
      &quot;transactionId&quot;: &quot;transaction1&quot;,
      &quot;amount&quot;: 100,
      &quot;description&quot;: &quot;Paid via FKPG&quot;,
      &quot;timestamp&quot;: 1530622713956
    }
  ],
  &quot;reverseTransactions&quot;: [
    {
      &quot;forwardTransactionId&quot;: &quot;transaction1&quot;,
      &quot;reverseTransactionId&quot;: &quot;rev_transaction1&quot;,
      &quot;amount&quot;: 10,
      &quot;description&quot;: &quot;Refund for cancellation&quot;,
      &quot;timestamp&quot;: 1530622714957
    }
  ],
  &quot;merchantAdjustments&quot;: [
    {
      &quot;adjustmentId&quot;: &quot;Dummy merchant adjustment id&quot;,
      &quot;title&quot;: &quot;This is some title&quot;,
      &quot;amount&quot;: 20
    }
  ],
  &quot;flipkartAdjustments&quot;: [
    {
      &quot;adjustmentId&quot;: &quot;dummyAdjustmentId&quot;,
      &quot;amount&quot;: 20
    }
  ],
  &quot;cancellationCharges&quot;: [
    {
      &quot;itemId&quot;: &quot;Product 1&quot;,
      &quot;reason&quot;: &quot;Cancellation costs are sometimes deducted&quot;,
      &quot;amount&quot;: 10
    }
  ]
}
</pre></div>
</td></tr></table>

<h2 id="offers">Offers</h2>
<p>Flipkart might have some offers. These Apis let you interact with them.</p>
<h3 id="get-offers-list">Get offers list</h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Path: /2/offers/active
Method: GET
</pre></div>
</td></tr></table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../clients/" title="Client Side API" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Client Side API
              </span>
            </div>
          </a>
        
        
          <a href="../oms/" title="OMS" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                OMS
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>